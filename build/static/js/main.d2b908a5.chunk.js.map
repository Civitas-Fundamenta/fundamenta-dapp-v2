{"version":3,"sources":["js/config.js","js/ui.js","js/walletProvider.js","components/Navigation.js","js/conversions.js","components/MessagePanel.js","pages/Home.js","pages/Staking.js","js/lpApprove.js","pages/Mining.js","js/cancellationToken.js","js/energizer.js","pages/Teleport.js","js/sorter.js","js/wrapUi.js","pages/Wrap.js","pages/Unwrap.js","pages/Energize.js","App.js","reportWebVitals.js","index.js"],"names":["Config","chainId","this","networkMap","length","fetchNetworkConfig","ret","$","each","idx","val","network","console","log","ajax","url","app","resourceUrl","net","dataType","cache","push","hide","element","addClass","disable","prop","find","show","removeClass","enable","serverCount","serverDomain","confTime","withdrawEventHash","holder0","holder1","holder2","bridgeAbi","tokenAbi","stakeAbi","miningAbi","minterAbi","lpPools","nftMinters","WalletProvider","networkNames","has","get","key","emitter","emitters","set","delete","web3","window","ethereum","isConnected","isMetamask","isWalletConnect","provider","WalletConnectProvider","rpc","rpcUrls","config","Web3","_registerProvider","wc","on","error","payload","warn","params","values","emit","localStorage","setItem","parseInt","request","method","selectedAddress","eth","defaultAccount","accounts","a","disconnect","connectInfo","disconnectInfo","id","networkId","approved","toString","chainName","niceNames","nativeCurrency","name","nativeCoins","symbol","decimals","blockExplorerUrls","explorerUrls","Map","Navigation","_btnC_clicked","wallet","isMetamaskAvailable","openProviderModal","walletConnect","toggleNetworkWarning","_btnE_clicked","closeProviderModal","closeNetworkSelectModal","_btnD_clicked","_btnS_clicked","text","openNetworkSelectModal","_btnNFT_clicked","nftMinter","minterContract","Contract","methods","mint","send","from","_wc_clicked","_mm_clicked","metamask","hasListener","em","EventEmitter","addListener","className","role","Navbar","collapseOnSelect","expand","Toggle","Collapse","Nav","to","Link","onClick","tabIndex","type","switchNetwork","addMetamaskChain","getFromMap","getNetworkName","React","Component","emptyAddress","Conversions","value","slice","arr","hex","i","to8bitHex","padded","padStart","match","reverse","join","isNaN","Math","pow","MessagePanel","MessagePanelComponent","Home","btnCalc_Clicked","msg","clear","amount","parseFloat","time","showError","total","toFixed","showOk","prices","fundamenta","usd","balances","netCount","counter","fmtaToken","providers","HttpProvider","fmtaContract","tokenAddress","balanceOf","call","bal","balance","convert","fromAtomicUnits","balanceCard","html","empty","stakingContract","stakingAddress","lpContract","liquidityMining","address","poolBalance0","poolInfo","poolInfo0","TotalRewardsPaidByPool","exclude","poolBalance","bal0","balance0","bal1","balance1","bal2","balance2","poolInfo1","poolBalance1","totalStaked","stakeRewards","totalStakes","tot","totalRewardsPaid","stRew","totalSupply","sup","mc","circulating","append","displayUserBalances","autoComplete","placeholder","Staking","props","btnTake_Clicked","showWarn","disableNavBar","enableTab","ok","withdrawReward","tx","status","validateUiState","btnCompound_Clicked","compoundRewards","btnAdd_Clicked","getBalance","au","toAtomicUnitsHexPrefixed","createStake","btnRemove_Clicked","getStake","removeStake","currentTab","stake","stakeOf","s","tokenContract","b","reward","rewardsAccrued","r","hideAllTabs","getBalances","fmtr","Intl","NumberFormat","style","useGrouping","minimumFractionDigits","maximumFractionDigits","format","condition","removeListener","showTab","LpApprove","info","ContractAddress","allowance","al","au2","approve","Mining","currentInfo","withdrawAccruedYieldAndAdd","poolIndex","unlocked","lockPeriod","addPosition","removePosition","selPool_Changed","u","accountPosition","pos","l","_lockedAmount","locked","getBlockNumber","block","showCurrentLockPeriods","lockPeriods","remaining","_unlockHeight","pools","k","v","attr","getInfo","populatePoolDropDown","onChange","width","CancellationToken","cancelRequested","Energizer","teleport","cancellationToken","delay","ms","Promise","resolve","setTimeout","ev","callback","energize","transactionData","blockNumber","confs","destinationToken","getApproval","signature","approval","code","data","serverSignatures","cSig","txData","toBigIntHex","bigIntBlock","responses","getServerApproval","response","index","result","Teleport","completedTeleport","_populateTokenDropDownLock","ticker","tokens","bridgeAddress","sourceTokenTicker","token","destNetworkName","getSourceTokenFromDropdown","sourceToken","getDestinationNetworkFromDropDown","getTokenBalance","contract","timestamp","to32bitHex","Date","now","array","Uint8Array","crypto","getRandomValues","bin2hex","populateTokenDropDown","cancel","destination","energizer","destBridgeContract","deposit","start","destNetwork","destTokens","source","getDestinationTokenFromDropDown","amountAtomicUnitsHex","toAtomicUnitsHex","sourceId","destId","uuid","nonce","createNonce","personal","sign","sourceBridgeContract","withdraw","withdrawTx","txHash","transactionHash","Sorter","wrapData","processed","netData","wrappedTokenAddress","tokenData","wrappedName","wrappedTicker","UiCommon","wrap","getSelectedData","tokIndex","sort","wrappable","Wrap","btnWrap_Clicked","common","tContract","wtContract","getTokenAllowance","at","registerWalletListeners","Unwrap","btnUnwrap_Clicked","unwrap","Energize","recoveredTeleport","recoverTeleport","getTransactionReceipt","receipt","logs","topics","sourceNetId","destNetId","destTokenId","App","getItem","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d2b908a5.chunk.js","sourcesContent":["//set this to the required network\n//testnet\n//mainnet.next\n//mainnet\n\nimport $ from 'jquery';\n\nexport class Config {\n\n    static network = null;\n    static networkMap = [];\n\n    static #_fetchNetworkConfigLock = false;\n\n    static app = {\n\n        net: \"mainnet\",\n        serverCount: 10,\n        serverDomain: \"civiport.online\",\n        confTime: 12,\n        withdrawEventHash: \"0x9e817a273ceb82157d1f8e11c7d5549ada176ef895a9ffe5e37b49de76d29e2d\",\n        resourceUrl: \"cp3.civiport.online\",\n        holder0: \"0xA4dda4EDfB34222063c77DFE2F50B30f5DF39870\",\n        holder1: \"0xa0b72536ba6496aec721400b5f0e1e65caf4be77\",\n        holder2: \"0x22a68bb25bf760d954c7e67ff06dc85297356068\",\n\n        bridgeAbi: [\n            {\n                \"inputs\": [\n                    {\n                        \"internalType\": \"bytes\",\n                        \"name\": \"clientSignature\",\n                        \"type\": \"bytes\"\n                    },\n                    {\n                        \"internalType\": \"bytes[]\",\n                        \"name\": \"serverSignatures\",\n                        \"type\": \"bytes[]\"\n                    },\n                    {\n                        \"internalType\": \"bytes\",\n                        \"name\": \"transactionData\",\n                        \"type\": \"bytes\"\n                    }\n                ],\n                \"name\": \"deposit\",\n                \"outputs\": [\n\n                ],\n                \"stateMutability\": \"nonpayable\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n                    {\n                        \"internalType\": \"bytes\",\n                        \"name\": \"clientSignature\",\n                        \"type\": \"bytes\"\n                    },\n                    {\n                        \"internalType\": \"bytes\",\n                        \"name\": \"transactionData\",\n                        \"type\": \"bytes\"\n                    }\n                ],\n                \"name\": \"withdraw\",\n                \"outputs\": [\n\n                ],\n                \"stateMutability\": \"nonpayable\",\n                \"type\": \"function\"\n            }\n        ],\n\n        tokenAbi: [\n            {\n                \"inputs\": [\n                    {\n                        \"internalType\": \"address\",\n                        \"name\": \"owner\",\n                        \"type\": \"address\"\n                    },\n                    {\n                        \"internalType\": \"address\",\n                        \"name\": \"spender\",\n                        \"type\": \"address\"\n                    }\n                ],\n                \"name\": \"allowance\",\n                \"outputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"stateMutability\": \"view\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n                    {\n                        \"internalType\": \"address\",\n                        \"name\": \"spender\",\n                        \"type\": \"address\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"amount\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"name\": \"approve\",\n                \"outputs\": [\n                    {\n                        \"internalType\": \"bool\",\n                        \"name\": \"\",\n                        \"type\": \"bool\"\n                    }\n                ],\n                \"stateMutability\": \"nonpayable\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n                    {\n                        \"internalType\": \"address\",\n                        \"name\": \"account\",\n                        \"type\": \"address\"\n                    }\n                ],\n                \"name\": \"balanceOf\",\n                \"outputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"stateMutability\": \"view\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"amount\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"name\": \"unwrap\",\n                \"outputs\": [\n\n                ],\n                \"stateMutability\": \"nonpayable\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"amount\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"name\": \"wrap\",\n                \"outputs\": [\n\n                ],\n                \"stateMutability\": \"nonpayable\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n\n                ],\n                \"name\": \"totalSupply\",\n                \"outputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"stateMutability\": \"view\",\n                \"type\": \"function\"\n            }\n        ],\n\n        stakeAbi: [\n            {\n                \"inputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"_stake\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"name\": \"createStake\",\n                \"outputs\": [\n\n                ],\n                \"stateMutability\": \"nonpayable\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n                    {\n                        \"internalType\": \"address\",\n                        \"name\": \"_stakeholder\",\n                        \"type\": \"address\"\n                    }\n                ],\n                \"name\": \"stakeOf\",\n                \"outputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"stateMutability\": \"view\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"_stake\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"name\": \"removeStake\",\n                \"outputs\": [\n\n                ],\n                \"stateMutability\": \"nonpayable\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n\n                ],\n                \"name\": \"withdrawReward\",\n                \"outputs\": [\n\n                ],\n                \"stateMutability\": \"nonpayable\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n\n                ],\n                \"name\": \"compoundRewards\",\n                \"outputs\": [\n\n                ],\n                \"stateMutability\": \"nonpayable\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n\n                ],\n                \"name\": \"rewardsAccrued\",\n                \"outputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"stateMutability\": \"view\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n\n                ],\n                \"name\": \"totalStakes\",\n                \"outputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"stateMutability\": \"view\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n\n                ],\n                \"name\": \"stakeCalc\",\n                \"outputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"stateMutability\": \"view\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n\n                ],\n                \"name\": \"totalRewardsPaid\",\n                \"outputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"stateMutability\": \"view\",\n                \"type\": \"function\"\n            }\n        ],\n\n        miningAbi: [\n            {\n                \"inputs\": [\n\n                ],\n                \"name\": \"showCurrentLockPeriods\",\n                \"outputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"_lockPeriod0\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"_lockPeriod1\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"_lockPeriod2\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"stateMutability\": \"view\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"name\": \"poolInfo\",\n                \"outputs\": [\n                    {\n                        \"internalType\": \"contract IERC20\",\n                        \"name\": \"ContractAddress\",\n                        \"type\": \"address\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"TotalRewardsPaidByPool\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"TotalLPTokensLocked\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"PoolBonus\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"lockPeriod0BasisPoint\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"lockPeriod1BasisPoint\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"lockPeriod2BasisPoint\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"compYield0\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"compYield1\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"compYield2\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"maxPoolBP\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"stateMutability\": \"view\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n                    {\n                        \"internalType\": \"address\",\n                        \"name\": \"_account\",\n                        \"type\": \"address\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"_pid\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"name\": \"accountPosition\",\n                \"outputs\": [\n                    {\n                        \"internalType\": \"address\",\n                        \"name\": \"_accountAddress\",\n                        \"type\": \"address\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"_unlockHeight\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"_lockedAmount\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"_lockPeriodInDays\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"_userDPY\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"contract IERC20\",\n                        \"name\": \"_lpTokenAddress\",\n                        \"type\": \"address\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"_totalRewardsPaidFromPool\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"stateMutability\": \"view\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"_lpTokenAmount\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"_lockPeriod\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"_pid\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"name\": \"addPosition\",\n                \"outputs\": [\n\n                ],\n                \"stateMutability\": \"nonpayable\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"_pid\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"name\": \"removePosition\",\n                \"outputs\": [\n\n                ],\n                \"stateMutability\": \"nonpayable\",\n                \"type\": \"function\"\n            },\n            {\n                \"inputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"_pid\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"_lpTokenAmount\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"name\": \"withdrawAccruedYieldAndAdd\",\n                \"outputs\": [\n\n                ],\n                \"stateMutability\": \"nonpayable\",\n                \"type\": \"function\"\n            }\n        ],\n\n        minterAbi: [\n            {\n                \"inputs\": [\n\n                ],\n                \"name\": \"mint\",\n                \"outputs\": [\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"\",\n                        \"type\": \"uint256\"\n                    }\n                ],\n                \"stateMutability\": \"nonpayable\",\n                \"type\": \"function\"\n            }\n        ],\n\n        lpPools: {\n            1: {\n                0: \"FMTA/ETH\",\n                1: \"FMTA/USDC\"\n            },\n            4: {\n                0: \"FMTA/WETH\"\n            },\n            56: {\n                0: \"FMTA/BNB\"\n            }\n        },\n\n        nftMinters: {\n            1: \"0x\",\n            4: \"0x\",\n            56: \"0x\",\n            137: \"0x\",\n            80001: \"0x\"\n        }\n    };\n\n    static async getFromMap(chainId) {\n        if (this.networkMap.length === 0)\n            await this.fetchNetworkConfig();\n\n        if (chainId === 0)\n            return null;\n\n        var ret = null;\n        $.each(this.networkMap, function (idx, val) {\n            if (val.chainId === chainId) {\n                ret = val;\n                return false;\n            }\n        })\n\n        return ret;\n    }\n\n    static async fetchNetworkConfig() {\n        if (Config.#_fetchNetworkConfigLock)\n            return;\n\n        Config.#_fetchNetworkConfigLock = true;\n\n        if (!this.network) {\n            console.log(\"Fetching network config\");\n            this.network = await $.ajax({\n                url: `https://${this.app.resourceUrl}/config/?x=${this.app.net}`,\n                dataType: 'json',\n                cache: 'false',\n            });\n\n            $.each(this.network, function () {\n                Config.networkMap.push(this);\n            });\n        }\n\n        Config.#_fetchNetworkConfigLock = false;\n        return this.network;\n    }\n}","import $ from 'jquery';\n\nexport function hide(element) {\n    $(element).addClass('d-none');\n}\n\nexport function disable(element) {\n    $(element).addClass('disable');\n    $(element).prop(\"disabled\", true);\n\n    $(element).find('*').addClass('disable');\n    $(element).find('*').prop(\"disabled\", true);\n}\n\nexport function show(element) {\n    $(element).removeClass('d-none');\n}\n\nexport function enable(element) {\n    $(element).removeClass('disable');\n    $(element).prop(\"disabled\", false);\n\n    $(element).find('*').removeClass('disable');\n    $(element).find('*').prop(\"disabled\", false);\n}\n","\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nimport Web3 from \"web3\";\n\nimport { Config as config } from './config'\n\nexport class WalletProvider {\n    static web3 = null;\n    static provider = null;\n    static chainId = 0;\n    static emitters = new Map();\n    static isWalletConnect = false;\n    static isMetamask = false;\n\n    static rpcUrls = new Map([\n        [1, \"https://mainnet.infura.io/v3/9354d2b6c5ee45c2a4036efd7b617783\"],\n        [4, \"https://rinkeby.infura.io/v3/9354d2b6c5ee45c2a4036efd7b617783\"],\n        [5, \"https://goerli.infura.io/v3/9354d2b6c5ee45c2a4036efd7b617783\"],\n        [56, \"https://bsc-dataseed.binance.org/\"],\n        [137, \"https://nameless-spring-thunder.matic.quiknode.pro/\"],\n        [80001, \"https://icy-thrumming-violet.matic-testnet.quiknode.pro/\"]\n    ]);\n\n    static explorerUrls = new Map([\n        [1, \"https://etherscan.io\"],\n        [4, \"https://rinkeby.etherscan.io\"],\n        [5, \"https://goerli.etherscan.io\"],\n        [56, \"https://bscscan.com\"],\n        [137, \"https://polygonscan.com\"],\n        [80001, \"https://mumbai.polygonscan.com\"]\n    ]);\n\n    static nativeCoins = new Map([\n        [1, \"ETH\"],\n        [4, \"rETH\"],\n        [5, \"gETH\"],\n        [56, \"BNB\"],\n        [137, \"MATIC\"],\n        [80001, \"tMATIC\"]\n    ]);\n\n    static niceNames = new Map([\n        [1, \"Ethereum\"],\n        [4, \"Rinkeby\"],\n        [5, \"Goerli\"],\n        [56, \"Binance\"],\n        [137, \"Polygon\"],\n        [80001, \"Mumbai\"]\n    ]);\n\n    static networkNames = new Map([\n        [1, \"ethereum\"],\n        [4, \"rinkeby\"],\n        [5, \"goerli\"],\n        [56, \"binance\"],\n        [137, \"polygon\"],\n        [80001, \"mumbai\"]\n    ]);\n\n    static getNetworkName() {\n        if (this.networkNames.has(this.chainId))\n            return this.networkNames.get(this.chainId);\n\n        return \"unknown\";\n    }\n\n    static addListener(key, emitter) {\n        if (this.emitters.has(key))\n            return;\n\n        this.emitters.set(key, emitter);\n    }\n\n    static removeListener(key) {\n        if (!this.emitters.has(key))\n            return;\n\n        this.emitters.delete(key);\n    }\n\n    static hasListener(key) {\n        return this.emitters.has(key);\n    }\n\n    static isConnected() {\n        return this.web3 != null;\n    }\n\n    static isMetamaskAvailable() {\n        return (window.ethereum);\n    }\n\n    static async walletConnect() {\n        if (this.isConnected())\n            return;\n\n        this.isMetamask = false;\n        this.isWalletConnect = true;\n\n        console.log(\"Using WalletConnect provider\");\n        this.provider = new WalletConnectProvider({\n            rpc: {\n                1: this.rpcUrls.get(1),\n                4: this.rpcUrls.get(4),\n                5: this.rpcUrls.get(5),\n                56: this.rpcUrls.get(56),\n                137: this.rpcUrls.get(137),\n                80001: this.rpcUrls.get(8001),\n            },\n            chainId: config.app.net === \"testnet\" ? 4 : 1\n        });\n\n        this.web3 = new Web3(this.provider);\n\n        this._registerProvider();\n\n        this.provider.wc.on('wc_sessionUpdate', (error, payload) => {\n            if (error) {\n                this.chainId = 0;\n                console.warn('wc_sessionUpdate', error);\n                return;\n            }\n\n            if (payload) {\n                this.chainId = payload.params[0].chainId;\n                console.log('chainChanged', this.chainId);\n                for (let e of WalletProvider.emitters.values())\n                    e.emit('chainChanged', this.chainId);\n            }\n        });\n\n        try {\n            await this.provider.enable();\n        } catch {\n            this.isWalletConnect = false;\n            this.web3 = null;\n            this.provider = null;\n            localStorage.setItem('provider', 'none');\n            return false;\n        }\n\n        this.chainId = parseInt(await this.provider.request({ method: 'eth_chainId' }));\n        for (let e of WalletProvider.emitters.values())\n            e.emit('chainChanged', this.chainId);\n\n        for (let e of this.emitters.values())\n            e.emit('connect');\n\n        localStorage.setItem('provider', 'walletConnect');\n\n        return true;\n    }\n\n    static async metamask() {\n        if (this.isConnected())\n            return;\n\n        this.isWalletConnect = false;\n        this.isMetamask = true;\n\n        console.log(\"Using MetaMask provider\");\n        this.provider = window.ethereum;\n        this.web3 = new Web3(this.provider);\n        this._registerProvider();\n\n        if (window.ethereum.selectedAddress) {\n            console.log(\"Metamask already approved for this site\");\n            this.web3.eth.defaultAccount = window.ethereum.selectedAddress;\n            for (let e of this.emitters.values())\n                e.emit('accountsChanged', [window.ethereum.selectedAddress]);\n\n            this.chainId = parseInt(await this.provider.request({ method: 'eth_chainId' }), 16);\n        }\n        else {\n            await this.provider.request({ method: 'eth_requestAccounts' });\n            this.chainId = parseInt(await this.provider.request({ method: 'eth_chainId' }), 16);\n        }\n\n        for (let e of this.emitters.values())\n            e.emit('chainChanged', WalletProvider.chainId);\n\n        for (let e of this.emitters.values())\n            e.emit('connect');\n\n        localStorage.setItem('provider', 'metamask');\n\n        return true;\n    }\n\n    static _registerProvider() {\n        this.provider.on('accountsChanged', async function (accounts) {\n            if (accounts !== null && accounts.length > 0) {\n                WalletProvider.web3.eth.defaultAccount = accounts[0];\n                for (let e of WalletProvider.emitters.values())\n                    e.emit('accountsChanged', accounts);\n            }\n            else\n                WalletProvider.disconnect();\n        });\n\n        this.provider.on('chainChanged', async function (chainId) {\n            if (WalletProvider.isMetamask)\n                WalletProvider.chainId = parseInt(chainId, 16);\n            else\n                WalletProvider.chainId = chainId;\n\n            for (let e of WalletProvider.emitters.values())\n                e.emit('chainChanged', WalletProvider.chainId);\n        });\n\n        this.provider.on('connect', async function (connectInfo) {\n            for (let e of WalletProvider.emitters.values())\n                e.emit('connect', connectInfo);\n        });\n\n        this.provider.on('disconnect', async function (disconnectInfo) {\n            \n            if (this.isMetamask)\n                return;\n\n            WalletProvider.web3 = null;\n            WalletProvider.provider = null;\n            WalletProvider.isWalletConnect = false;\n            WalletProvider.isMetamask = false;\n            localStorage.setItem('provider', 'none');\n            for (let e of WalletProvider.emitters.values())\n                e.emit('disconnect', disconnectInfo);\n        });\n    }\n\n    static async switchNetwork(id) {\n        if (this.isWalletConnect) {\n            this.provider.chainId = id;\n            this.provider.networkId = id;\n\n            await this.provider.request({\n                method: \"wc_sessionUpdate\",\n                params: [\n                    {\n                        chainId: id,\n                        approved: true,\n                    }\n                ]\n            });\n\n            return;\n        }\n\n        if (this.isMetamask) {\n            try {\n                await window.ethereum.request({\n                    method: 'wallet_switchEthereumChain',\n                    params: [{ chainId: '0x' + id.toString(16) }]\n                });\n            } catch (switchError) {\n                console.log(\"unhandled switching error\", switchError);\n            }\n        }\n    }\n\n    static async addMetamaskChain(id) {\n        if (!this.isMetamask)\n            return;\n\n        try {\n            await window.ethereum.request({\n                method: 'wallet_addEthereumChain',\n                params: [\n                    {\n                        chainId: '0x' + id.toString(16),\n                        chainName: this.niceNames.get(id),\n                        nativeCurrency: {\n                            name: this.nativeCoins.get(id),\n                            symbol: this.nativeCoins.get(id),\n                            decimals: 18\n                        },\n                        rpcUrls: [\n                            this.rpcUrls.get(id)\n                        ],\n                        blockExplorerUrls: [\n                            this.explorerUrls.get(id)\n                        ]\n                    }\n                ]\n            });\n        } catch (e) {\n            console.log(\"unhandled error\", e);\n        }\n    }\n\n    static async disconnect() {\n        this.web3 = null;\n        localStorage.setItem('provider', 'none');\n\n        if (this.provider) {\n            if (this.isWalletConnect)\n                await this.provider.disconnect();\n        }\n\n        this.provider = null;\n\n        if (this.isMetamask) {\n            for (let e of this.emitters.values())\n                e.emit('disconnect', null);\n        }\n\n        this.isWalletConnect = false;\n        this.isMetamask = false;\n    }\n}","import React from 'react';\nimport EventEmitter from 'events';\nimport $ from 'jquery';\nimport { Navbar, Nav } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap'\n\nimport { Config, Config as config } from '../js/config'\nimport { show, hide, disable, enable } from '../js/ui';\nimport { WalletProvider as wallet } from '../js/walletProvider'\n\nexport class Navigation extends React.Component {\n\n    static emptyAddress = \"0x0000000000000000000000000000000000000000\";\n\n    //static #_toggleNetworkWarningLock = false;\n\n    static async toggleNetworkWarning() {\n        if (!Config.network)\n            return;\n\n        //if (Navigation.#_toggleNetworkWarningLock)\n        //    return;\n\n        //Navigation.#_toggleNetworkWarningLock = true;\n\n        if (!wallet.isConnected()) {\n            hide(\"#_aInvNet\");\n            hide('#_aAcc');\n            show('#_aNoAcc');\n            hide('#_btnS');\n            hide('#_btnNFT');\n            //Navigation.#_toggleNetworkWarningLock = false;\n            return;\n        }\n\n        if (wallet.web3.eth.defaultAccount == null) {\n            hide(\"#_aInvNet\");\n            hide('#_aAcc');\n            show('#_aNoAcc');\n            hide('#_btnS');\n            hide('#_btnNFT');\n            //Navigation.#_toggleNetworkWarningLock = false;\n            return;\n        }\n        else {\n            $(\"#_aAccText\").text(wallet.web3.eth.defaultAccount);\n            hide('#_aNoAcc');\n            show('#_aAcc');\n        }\n\n        show('#_btnS');\n\n        if (!wallet.chainId || wallet.chainId === 0) {\n            hide(\"#_aInvNet\");\n            hide('#_btnNFT');\n            $(\"#_btnD\").text(\"Unknown\");\n            //Navigation.#_toggleNetworkWarningLock = false;\n            return;\n        }\n        else {\n            var nftMinter = config.app.nftMinters[wallet.chainId];\n\n            if (nftMinter)\n                show('#_btnNFT');\n            else\n                hide('#_btnNFT');\n        }\n\n        var net = await config.getFromMap(wallet.chainId);\n\n        if (!net) {\n            $(\"#_aInvNetText\").text(`Invalid network. Wallet set to chain ${wallet.chainId}`);\n            show(\"#_aInvNet\");\n        }\n        else\n            hide(\"#_aInvNet\");\n\n        $(\"#_btnD\").text(wallet.getNetworkName());\n        //Navigation.#_toggleNetworkWarningLock = false;\n    }\n\n    openProviderModal() {\n        $(\"#_modSelectProvider\").addClass(\"d-block\")\n        $(\"#_modSelectProvider\").addClass(\"show\")\n    }\n\n    closeProviderModal() {\n        $(\"#_modSelectProvider\").removeClass(\"d-block\")\n        $(\"#_modSelectProvider\").removeClass(\"show\")\n    }\n\n    openNetworkSelectModal() {\n        $(\"#_modSelectNetwork\").addClass(\"d-block\")\n        $(\"#_modSelectNetwork\").addClass(\"show\")\n    }\n\n    closeNetworkSelectModal() {\n        $(\"#_modSelectNetwork\").removeClass(\"d-block\")\n        $(\"#_modSelectNetwork\").removeClass(\"show\")\n    }\n\n    _btnC_clicked = async () => {\n        if (wallet.isMetamaskAvailable()) {\n            console.log(\"Metamask is available. Displaying modal\");\n            this.openProviderModal();\n        }\n        else {\n            console.log(\"Metamask not available. Defaulting to Wallet Connect\");\n            await wallet.walletConnect();\n        }\n\n        await Navigation.toggleNetworkWarning();\n    }\n\n    _btnE_clicked = async () => {\n        this.closeProviderModal();\n        this.closeNetworkSelectModal();\n    }\n\n    _btnD_clicked = async () => {\n        await wallet.disconnect();\n    }\n\n    _btnS_clicked = async () => {\n\n        if (config.network === \"mainnet\") {\n            hide('#testnetSwitch');\n            show('#mainnetSwitch');\n            hide(\"#_aNetChange\");\n\n            enable('#_btnEth');\n            $('#_btnEth').text(\"ETHEREUM\");\n\n            enable('#_btnBsc');\n            $('#_btnBsc').text(\"BINANCE SMART CHAIN\");\n\n            enable('#_btnPoly');\n            $('#_btnPoly').text(\"POLYGON\");\n\n            if (wallet.chainId === 1) {\n                disable('#_btnEth');\n                $('#_btnEth').text(\"ETHEREUM (Current)\");\n            }\n            else if (wallet.chainId === 56) {\n                disable('#_btnBsc');\n                $('#_btnBsc').text(\"BINANCE SMART CHAIN (Current)\");\n            }\n            else if (wallet.chainId === 137) {\n                disable('#_btnPoly');\n                $('#_btnPoly').text(\"POLYGON (Current)\");\n            }\n        }\n        else\n        {\n            show('#testnetSwitch');\n            hide('#mainnetSwitch');\n            hide(\"#_aNetChange\");\n\n            enable('#_btnRinkeby');\n            $('#_btnRinkeby').text(\"RINKEBY\");\n\n            enable('#_btnGoerli');\n            $('#_btnGoerli').text(\"GOERLI\");\n\n            enable('#_btnMumbai');\n            $('#_btnMumbai').text(\"MUMBAI\");\n\n            if (wallet.chainId === 4) {\n                disable('#_btnRinkeby');\n                $('#_btnRinkeby').text(\"RINKEBY (Current)\");\n            }\n            else if (wallet.chainId === 5) {\n                disable('#_btnGoerli');\n                $('#_btnGoerli').text(\"GOERLI (Current)\");\n            }\n            else if (wallet.chainId === 80001) {\n                disable('#_btnMumbai');\n                $('#_btnMumbai').text(\"MUMBAI (Current)\");\n            }\n        }\n\n        this.openNetworkSelectModal();\n    }\n\n    _btnNFT_clicked = async () => {\n        var nftMinter = config.app.nftMinters[wallet.chainId];\n        var minterContract = new wallet.web3.eth.Contract(config.app.minterAbi, nftMinter);\n\n        await minterContract.methods.mint().send({ from: wallet.web3.eth.defaultAccount });\n    }\n\n    _wc_clicked = async () => {\n        try {\n            this.closeProviderModal();\n            await wallet.walletConnect();\n            await Navigation.toggleNetworkWarning();\n        } catch (e) { console.log(e); }\n    }\n\n    _mm_clicked = async () => {\n        try {\n            this.closeProviderModal();\n            await wallet.metamask();\n            await Navigation.toggleNetworkWarning();\n        } catch (e) { console.log(e); }\n    }\n\n    async componentDidMount() {\n        if (!wallet.hasListener('networkSelect')) {\n            var em = new EventEmitter();\n\n            em.on('connect', async () => {\n                console.log('networkSelect.connect');\n                await Navigation.toggleNetworkWarning();\n            });\n\n            em.on('disconnect', async () => {\n                console.log('networkSelect.disconnect');\n                await Navigation.toggleNetworkWarning();\n            });\n\n            em.on('accountsChanged', async (accounts) => {\n                console.log('networkSelect.accountsChanged');\n                await Navigation.toggleNetworkWarning();\n            });\n\n            em.on('chainChanged', async (chainId) => {\n                console.log('networkSelect.chainChanged');\n                this.closeNetworkSelectModal();\n                await Navigation.toggleNetworkWarning();\n            });\n\n            wallet.addListener('networkSelect', em);\n        }\n\n        await Navigation.toggleNetworkWarning();\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"alert alert-warning no-round p-0\" role=\"alert\">\n                    The CiviPort Web Teleporter is Beta software.\n                </div>\n                <div className=\"p-0 ps-3 pe-3\">\n                    <div>\n                        <Navbar collapseOnSelect expand=\"md\" className=\"navbar navbar-nav navbar-dark navbar-expand-md p-0\">\n                            <Navbar.Toggle className=\"w-100 round btn\" />\n                            <Navbar.Collapse>\n                                <Nav>\n                                    <LinkContainer to=\"/\">\n                                        <Nav.Link>Home</Nav.Link>\n                                    </LinkContainer>\n\n                                    <LinkContainer to=\"/staking\">\n                                        <Nav.Link>Staking</Nav.Link>\n                                    </LinkContainer>\n\n                                    <LinkContainer to=\"/mining\">\n                                        <Nav.Link>Mining</Nav.Link>\n                                    </LinkContainer>\n\n                                    <LinkContainer to=\"/teleport\">\n                                        <Nav.Link>Teleport</Nav.Link>\n                                    </LinkContainer>\n\n                                    <LinkContainer to=\"/wrap\">\n                                        <Nav.Link>Wrap</Nav.Link>\n                                    </LinkContainer>\n\n                                    <LinkContainer to=\"/unwrap\">\n                                        <Nav.Link>Unwrap</Nav.Link>\n                                    </LinkContainer>\n\n                                    <LinkContainer to=\"/energize\">\n                                        <Nav.Link>Energize</Nav.Link>\n                                    </LinkContainer>\n\n                                    <button className=\"d-none round btn btn-outline-success btn-sm ms-1 me-1\" id=\"_btnS\" onClick={this._btnS_clicked}>SWITCH NETWORK</button>\n                                    <button className=\"d-none round btn btn-outline-info btn-sm ms-1 me-1\" id=\"_btnNFT\" onClick={this._btnNFT_clicked}>FREE NFT!</button>\n                                </Nav>\n                            </Navbar.Collapse>\n\n                        </Navbar>\n                    </div>\n                </div>\n                <div className=\"p-0 ps-3 pe-3 pt-3\">\n                    <div id=\"_aAcc\" className=\"d-none d-flex p-0\">\n                        <button id=\"_aAccText\" className=\"flex-grow-1 round-left alert alert-success text-left text-truncate d-inline-block\" />\n                        <button className=\"round-right btn btn-alert btn-danger\" id=\"_btnD\" onClick={this._btnD_clicked} />\n                    </div>\n                    <div id=\"_aNoAcc\" className=\"d-none d-flex p-0\">\n                        <button id=\"_aAccText\" className=\"flex-grow-1 round-left alert alert-danger text-left\">No account connected</button>\n                        <button className=\"round-right btn btn-alert btn-success\" id=\"_btnC\" onClick={this._btnC_clicked}>Connect</button>\n                    </div>\n\n                    <div id=\"_aInvNet\" className=\"d-none round alert alert-warning d-flex align-items-center\">\n                        <div id=\"_aInvNetText\" className=\"text-truncate d-inline-block\" />\n                    </div>\n                </div>\n\n\n                <div className=\"modal fade\" id=\"_modSelectProvider\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\n                    <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\">\n                                <h5 className=\"modal-title\" id=\"exampleModalLongTitle\">Select Wallet</h5>\n                            </div>\n                            <div className=\"modal-body\">\n                                <div>\n                                    <button className=\"round btn btn-outline-info p-3 mb-3 w-100\" onClick={this._wc_clicked}>\n                                        Wallet Connect\n                                    </button>\n                                </div>\n                                <div>\n                                    <button className=\"round btn btn-outline-warning p-3 w-100\" onClick={this._mm_clicked}>\n                                        MetaMask\n                                    </button>\n                                </div>\n                                <br />\n                                <div>\n                                    <h4 className=\"text-title\">Note to Wallet Connect users:</h4>\n                                    <div>\n                                        Fundamenta is a multi-chain system. Your ability to use this dapp may be impacted if your wallet does not\n                                        support network switching.\n                                    </div>\n                                    <br />\n                                    <div>\n                                        For the best experience it is recommended to use the Fundamenta mobile wallet, available for iOS and Android.\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"modal-footer\">\n                                <button type=\"button\" className=\"round btn btn-danger\" onClick={this._btnE_clicked}>Exit</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"modal fade\" id=\"_modSelectNetwork\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\n                    <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\">\n                                <h5 className=\"modal-title\" id=\"exampleModalLongTitle\">Select Network</h5>\n                            </div>\n                            <div id=\"mainnetSwitch\" className=\"modal-body\">\n                                <button id=\"_btnEth\" className=\"round btn btn-outline-secondary p-3 mb-3 w-100\"\n                                    onClick={async () => {\n                                        $(\"#_btnEth\").text('Sending request...');\n                                        await wallet.switchNetwork(1);\n                                    }}>Ethereum</button>\n\n                                <button id=\"_btnBsc\" className=\"round btn btn-outline-secondary p-3 mb-3 w-100\"\n                                    onClick={async () => {\n                                        $(\"#_btnBsc\").text('Sending request...');\n                                        await wallet.addMetamaskChain(56);\n                                        await wallet.switchNetwork(56);\n                                    }}>Binance Smart Chain</button>\n\n                                <button id=\"_btnPoly\" className=\"round btn btn-outline-secondary p-3 mb-3 w-100\"\n                                    onClick={async () => {\n                                        $(\"#_btnPoly\").text('Sending request...');\n                                        await wallet.addMetamaskChain(137);\n                                        await wallet.switchNetwork(137);\n                                    }}>Polygon</button>\n                                <br />\n                            </div>\n                            <div id=\"testnetSwitch\" className=\"modal-body\">\n                                <button id=\"_btnRinkeby\" className=\"round btn btn-outline-secondary p-3 mb-3 w-100\"\n                                    onClick={async () => {\n                                        $(\"#_btnRinkeby\").text('Sending request...');\n                                        await wallet.switchNetwork(4);\n                                    }}>Rinkeby</button>\n\n                                <button id=\"_btnGoerli\" className=\"round btn btn-outline-secondary p-3 mb-3 w-100\"\n                                    onClick={async () => {\n                                        $(\"#_btnGoerli\").text('Sending request...');\n                                        await wallet.switchNetwork(5);\n                                    }}>Goerli</button>\n\n                                <button id=\"_btnMumbai\" className=\"round btn btn-outline-secondary p-3 mb-3 w-100\"\n                                    onClick={async () => {\n                                        $(\"#_btnMumbai\").text('Sending request...');\n                                        await wallet.addMetamaskChain(80001);\n                                        await wallet.switchNetwork(80001);\n                                    }}>Mumbai</button>\n                                <br />\n                            </div>\n                            <div className=\"modal-footer\">\n                                <button type=\"button\" className=\"round btn btn-danger\" onClick={this._btnE_clicked}>Exit</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        )\n    }\n}\n","export class Conversions {\n\n    static to8bitHex(value) {\n        return ('00' + value.toString(16)).slice(-2);\n    }\n\n    static to32bitHex(value) {\n        return ('00000000' + value.toString(16)).slice(-8);\n    }\n\n    static to64bitHex(value) {\n        return ('0000000000000000' + value.toString(16)).slice(-16);\n    }\n\n    static bin2hex(arr) {\n        var hex = \"\";\n        for (var i = 0; i < arr.length; i++) {\n            hex += Conversions.to8bitHex(arr[i]);\n        }\n\n        return hex;\n    }\n\n    static async toBigIntHex(hex) {\n        var padded = hex.toString(16).padStart(64, \"0\");\n\n        var reverse = await padded.match(/[a-fA-F0-9]{2}/g).reverse().join(\"\");\n        return reverse;\n    };\n\n    static toAtomicUnitsHex(value, decimals) {\n        if (isNaN(decimals)) decimals = 18;\n        return (value * Math.pow(10, decimals)).toString(16).padStart(64, '0');\n    }\n\n    static toAtomicUnitsHexPrefixed(value, decimals) {\n        if (isNaN(decimals)) decimals = 18;\n        return `0x${(value * Math.pow(10, decimals)).toString(16).padStart(64, '0')}`;\n    }\n\n    static toAtomicUnits(value, decimals) {\n        if (isNaN(decimals)) decimals = 18;\n        return (value * Math.pow(10, decimals));\n    }\n\n    static fromAtomicUnits(value, decimals) {\n        if (isNaN(decimals)) decimals = 18;\n        return (value / Math.pow(10, decimals));\n    }\n\n}\n","import React from 'react';\nimport { show, hide } from '../js/ui';\n\nimport $ from 'jquery';\n\nexport class MessagePanel\n{\n    static clear() {\n        hide(\"#okAlert\");\n        hide(\"#warnAlert\");\n        hide(\"#errorAlert\");\n    }\n    \n    static showOk(text) {\n        $(\"#okAlertText\").text(text);\n        show(\"#okAlert\");\n    }\n    \n    static showWarn(text) {\n        $(\"#warnAlertText\").text(text);\n        show(\"#warnAlert\");\n    }\n    \n    static showError(text) {\n        $(\"#errorAlertText\").text(text);\n        show(\"#errorAlert\");\n    }\n}\n\nexport class MessagePanelComponent extends React.Component {\n\n    render() {\n        return (\n            <div className=\"mt-3\">\n                <div id=\"okAlert\">\n                    <div className=\"popup-div-margins alert alert-success d-flex align-items-center\" role=\"alert\">\n                        <div id=\"okAlertText\" className=\"text-truncate d-inline-block\"></div>\n                    </div>\n                </div>\n                <div id=\"warnAlert\">\n                    <div className=\"popup-div-margins alert alert-warning d-flex align-items-center\" role=\"alert\">\n                        <div id=\"warnAlertText\" className=\"text-truncate d-inline-block\"></div>\n                    </div>\n                </div>\n                <div id=\"errorAlert\">\n                    <div className=\"popup-div-margins alert alert-danger d-flex align-items-center\" role=\"alert\">\n                        <div id=\"errorAlertText\" className=\"text-truncate d-inline-block\"></div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport $ from 'jquery';\nimport Web3 from \"web3\";\nimport EventEmitter from 'events';\n\nimport { Config as config } from '../js/config'\nimport { Conversions as convert } from '../js/conversions';\nimport { WalletProvider as wallet } from '../js/walletProvider'\nimport { Navigation } from '../components/Navigation';\n\nimport { MessagePanel as msg, MessagePanelComponent } from '../components/MessagePanel'\n\nexport default class Home extends React.Component {\n\n    static prices = null;\n\n    async displayUserBalances()\n    {\n        var networkNames = '';\n        var balances = '';\n\n        var netCount = config.networkMap.length;\n        var counter = 0;\n\n        $.each(config.networkMap, async function () {\n            if (this.fmtaToken) {\n                var web3 = new Web3(new Web3.providers.HttpProvider(wallet.rpcUrls.get(this.chainId)));\n                var fmtaContract = new web3.eth.Contract(config.app.tokenAbi, this.fmtaToken.tokenAddress);\n                var bal = await fmtaContract.methods.balanceOf(wallet.web3.eth.defaultAccount).call();\n                var balance = convert.fromAtomicUnits(bal, 18);\n                networkNames += '<div>' + wallet.niceNames.get(this.chainId) +':&nbsp;</div>';\n                balances += '<div>' + balance.toFixed(2) + ' FMTA</div>'\n                ++counter;\n            }\n\n            if (counter === netCount)\n            {\n                var balanceCard =\n                '<form class=\"card mb-3 border border-primary shadow\">' +\n                    '<div class=\"card-header\">Network balances</div>' +\n                    '<div className=\"card-body\">' +\n                        '<div class=\"ps-3 pt-3\">' +\n                            '<div class=\"d-flex pb-3\">' +\n                                '<div class=\"text-end text-body\">' +\n                                    networkNames +\n                                '</div>' +\n                                '<div class=\"text-start text-body\">' +\n                                    balances +\n                                '</div>' +\n                            '</div>' +\n                        '</div>' +\n                    '</div>' +\n                '</form>'\n\n                $(\"#balances\").html(balanceCard);\n            }\n        });\n    }\n\n    btnCalc_Clicked = async () => {\n        msg.clear();\n        var amount = parseFloat($(\"#amount\").val());\n        var time = parseFloat($(\"#time\").val());\n\n        if (isNaN(amount) || isNaN(time) || amount === 0 || time === 0)\n        {\n            msg.showError(\"Invalid amounts entered\");\n        }\n\n        var total = ((amount / 500) * time).toFixed(2);\n        msg.showOk(+ time + \" day stake reward: \" + total + \" FMTA, \" + (total * Home.prices.fundamenta.usd).toFixed(2) + \" USD\")\n    };\n\n    async componentDidMount() {\n        $(\"#stats\").empty();\n        $(\"#balances\").empty();\n        msg.clear();\n\n        var priceUrl = 'https://api.coingecko.com/api/v3/simple/price?ids=fundamenta&vs_currencies=usd&include_market_cap=false&include_24hr_vol=false&include_24hr_change=false&include_last_updated_at=false'\n\n        Home.prices = await $.ajax({\n            url: priceUrl,\n            method: \"GET\",\n            dataType: 'json',\n            cache: 'false'\n        });\n\n        await config.fetchNetworkConfig();\n\n        $.each(config.networkMap, async function () {\n            if (this.fmtaToken) {\n                var web3 = new Web3(new Web3.providers.HttpProvider(wallet.rpcUrls.get(this.chainId)));\n\n                var fmtaContract = new web3.eth.Contract(config.app.tokenAbi, this.fmtaToken.tokenAddress);\n                var stakingContract = new web3.eth.Contract(config.app.stakeAbi, this.fmtaToken.stakingAddress);\n                var lpContract = new web3.eth.Contract(config.app.miningAbi, this.liquidityMining.address);\n\n                var poolBalance0 = 0;\n\n                if (this.liquidityMining.address !== Navigation.emptyAddress)\n                {\n                    var poolInfo0 = await lpContract.methods.poolInfo(0).call();\n                    poolBalance0 = convert.fromAtomicUnits(poolInfo0.TotalRewardsPaidByPool, 18);\n                }\n\n                var exclude = 0;\n                var poolBalance = poolBalance0;\n\n                if (this.chainId === 1) {\n                    var bal0 = await fmtaContract.methods.balanceOf(config.app.holder0).call();\n                    var balance0 = convert.fromAtomicUnits(bal0, 18);\n\n                    var bal1 = await fmtaContract.methods.balanceOf(config.app.holder1).call();\n                    var balance1 = convert.fromAtomicUnits(bal1, 18);\n\n                    var bal2 = await fmtaContract.methods.balanceOf(config.app.holder2).call();\n                    var balance2 = convert.fromAtomicUnits(bal2, 18);\n\n                    exclude = balance0 + balance1 + balance2;\n\n                    var poolInfo1 = await lpContract.methods.poolInfo(1).call();\n                    var poolBalance1 = convert.fromAtomicUnits(poolInfo1.TotalRewardsPaidByPool, 18);\n\n                    //0xF6de2B6eAB93d3A0AEC5863e3190b319602A1e70\n                    var oldPoolBalance0 = 234966.16;\n\n                    //0xB187c8E40b46Ae8fc19A6cC24bb60320a73b9abD\n                    var oldPoolBalance1 = 98566.84;\n\n                    poolBalance += (poolBalance1 + oldPoolBalance0 + oldPoolBalance1);\n                }\n\n                var totalStaked = 0;\n                var stakeRewards = 0;\n\n                if (this.fmtaToken.stakingAddress !== Navigation.emptyAddress)\n                {\n                    var tot = await stakingContract.methods.totalStakes().call();\n                    totalStaked = convert.fromAtomicUnits(tot, 18);\n\n                    var stRew = await stakingContract.methods.totalRewardsPaid().call();\n                    stakeRewards = convert.fromAtomicUnits(stRew, 18);\n                }\n\n                var sup = await fmtaContract.methods.totalSupply().call();\n                var totalSupply = convert.fromAtomicUnits(sup, 18);\n\n                var circulating = (totalSupply + totalStaked) - exclude;\n\n                var mc = circulating * Home.prices.fundamenta.usd;\n\n                $(\"#stats\").append(\n                    '<form class=\"card mb-3 border border-primary shadow\">' +\n                        '<div class=\"card-header\">' + wallet.niceNames.get(this.chainId) + ' supply</div>' +\n                        '<div className=\"card-body\">' +\n                            '<div class=\"ps-3 pt-3\">' +\n                                '<div class=\"d-flex pb-3\">' +\n                                    '<div class=\"text-end text-body\">' +\n                                        '<div>Circulating:&nbsp;</div>' +\n                                        '<div>Staked:&nbsp;</div>' +\n                                        '<div>Market Cap:&nbsp;</div>' +\n                                        '<div>Stake Rewards:&nbsp;</div>' +\n                                        '<div>LP Rewards:&nbsp;</div>' +\n                                    '</div>' +\n                                    '<div class=\"text-start text-body\">' +\n                                        '<div>' + circulating.toFixed(2) + ' FMTA</div>' +\n                                        '<div>' + totalStaked.toFixed(2) + ' FMTA</div>' +\n                                        '<div>' + mc.toFixed(2) + ' USD</div>' +\n                                        '<div>' + stakeRewards.toFixed(2) + ' FMTA</div>' +\n                                        '<div>' + poolBalance.toFixed(2) + ' FMTA</div>' +\n                                    '</div>' +\n                                '</div>' +\n                            '</div>' +\n                        '</div>' +\n                    '</form>'\n                );\n            }\n        });\n\n        if (!wallet.hasListener('home')) {\n            var em = new EventEmitter();\n\n            em.on('connect', async () => {\n                //if (wallet.web3.eth.defaultAccount !== null)\n                //    await this.displayUserBalances();\n            });\n\n            em.on('disconnect', async () => {\n                $(\"#balances\").empty();\n            });\n\n            em.on('accountsChanged', async (accounts) => {\n                if (wallet.web3.eth.defaultAccount !== null)\n                    await this.displayUserBalances();\n            });\n\n            wallet.addListener('home', em);\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"ps-3 pe-3\">\n                <div className=\"page-flex-container d-flex flex-row justify-content-center align-items-center\">\n                    <div className=\"page-content\">\n                        <div id=\"balances\" />\n                        <div id=\"stats\" />\n                        <div>\n                            <form autoComplete=\"off\" className=\"card border border-primary shadow\">\n                                <div className=\"card-header\">Stake Calculator</div>\n                                <div className=\"card-body\">\n                                    <div id=\"form\">\n                                        <div className=\"input-group mb-3\">\n                                            <input type=\"number\" id=\"amount\" className=\"round-left btn-primary form-control\" placeholder=\"Enter amount\" />\n                                            <input type=\"number\" id=\"time\" className=\"round-right btn-primary form-control\" placeholder=\"Enter time\" />\n                                        </div>\n                                        <div>\n                                            <button type=\"button\" id=\"button\" className=\"btn btn-primary round w-100\" onClick={this.btnCalc_Clicked}>Calculate!</button>\n                                        </div>\n                                    </div>\n                                    <MessagePanelComponent />\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport $ from 'jquery'\nimport EventEmitter from 'events';\nimport { Navbar, Nav } from 'react-bootstrap';\n\nimport { Config as config } from '../js/config'\nimport { Conversions as convert } from '../js/conversions';\nimport { show, hide, disable, enable } from '../js/ui';\nimport { WalletProvider as wallet, WalletProvider } from '../js/walletProvider'\n\nimport { MessagePanel as msg, MessagePanelComponent } from '../components/MessagePanel'\nimport { Navigation } from '../components/Navigation';\n\nexport default class Staking extends React.Component {\n    constructor(props) {\n        super(props);\n        this.currentTab = null;\n    }\n\n    async getStake(network) {\n        try {\n            var stake = 0;\n            var stakingContract = new wallet.web3.eth.Contract(config.app.stakeAbi, network.fmtaToken.stakingAddress);\n            if (wallet.web3.eth.defaultAccount) {\n                var s = await stakingContract.methods.stakeOf(wallet.web3.eth.defaultAccount).call();\n                if (!s) s = 0;\n                stake = convert.fromAtomicUnits(s, 18);\n            }\n\n            return stake;\n        }\n        catch (ex) {\n            console.error(ex);\n            return 0;\n        }\n    }\n\n    async getBalance(network) {\n        try {\n            var balance = 0;\n            var tokenContract = new wallet.web3.eth.Contract(config.app.tokenAbi, network.fmtaToken.tokenAddress);\n            if (wallet.web3.eth.defaultAccount) {\n                var b = await tokenContract.methods.balanceOf(wallet.web3.eth.defaultAccount).call();\n                if (!b) b = 0;\n                balance = convert.fromAtomicUnits(b, 18);\n            }\n\n            return balance;\n        }\n        catch (ex) {\n            console.error(ex);\n            return 0;\n        }\n    }\n\n    async getBalances(network) {\n        try {\n            var stake = 0;\n            var balance = 0;\n            var reward = 0;\n\n            var tokenContract = new wallet.web3.eth.Contract(config.app.tokenAbi, network.fmtaToken.tokenAddress);\n            var stakingContract = new wallet.web3.eth.Contract(config.app.stakeAbi, network.fmtaToken.stakingAddress);\n\n            if (wallet.web3.eth.defaultAccount) {\n                var b = await tokenContract.methods.balanceOf(wallet.web3.eth.defaultAccount).call();\n                if (!b) b = 0;\n                balance = convert.fromAtomicUnits(b, 18);\n\n                var s = await stakingContract.methods.stakeOf(wallet.web3.eth.defaultAccount).call();\n                if (!s) s = 0;\n                stake = convert.fromAtomicUnits(s, 18);\n\n                var r = await stakingContract.methods.rewardsAccrued().call();\n                if (!r) r = 0;\n                reward = convert.fromAtomicUnits(r, 18);\n            }\n\n            return {\n                balance: balance,\n                stake: stake,\n                reward: reward\n            };\n        }\n        catch (ex) {\n            console.error(ex);\n            return {\n                balance: 0,\n                stake: 0,\n                reward: 0\n            };\n        }\n    }\n\n    disableNavBar() {\n        disable(\"#btnTake\");\n        disable(\"#btnCompound\");\n        disable(\"#btnAdd\");\n        disable(\"#btnRemove\");\n    }\n\n    async validateUiState() {\n        var net = await config.getFromMap(WalletProvider.chainId);\n        msg.clear();\n\n        if (!net || net.fmtaToken.stakingAddress === Navigation.emptyAddress) {\n            this.disableNavBar();\n            this.hideAllTabs();\n            $(\"#lblBalance\").text(\"0.00\");\n            $(\"#lblStake\").text(\"0.00\");\n            $(\"#lblReward\").text(\"0.00\");\n            return;\n        }\n\n        var balances = await this.getBalances(net);\n\n        var fmtr = new Intl.NumberFormat('us-us', {\n            style: 'decimal',\n            useGrouping: false,\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 10\n        });\n\n        $(\"#lblBalance\").text(fmtr.format(balances.balance));\n        $(\"#lblStake\").text(fmtr.format(balances.stake));\n        $(\"#lblReward\").text(fmtr.format(balances.reward));\n\n        this.enableTab(\"Take\", balances.reward > 0);\n        this.enableTab(\"Compound\", balances.reward > 0);\n        this.enableTab(\"Add\", balances.balance > 0 && balances.reward === 0);\n        this.enableTab(\"Remove\", balances.stake > 0);\n    }\n\n    enableTab(name, condition) {\n        if (condition) {\n            enable(`#btn${name}`);\n            enable(`#div${name}`);\n        }\n        else {\n            disable(`#btn${name}`);\n            disable(`#div${name}`);\n        }\n    }\n\n    hideAllTabs() {\n        hide(\"#divTake\");\n        hide(\"#divCompound\");\n        hide(\"#divAdd\");\n        hide(\"#divRemove\");\n        this.currentTab = null;\n    }\n\n    showTab(element) {\n        if (element === this.currentTab)\n            return;\n\n        hide(\"#divTake\");\n        hide(\"#divCompound\");\n        hide(\"#divAdd\");\n        hide(\"#divRemove\");\n\n        show(element);\n        this.currentTab = element;\n    }\n\n    async componentDidMount() {\n        msg.clear();\n\n        this.hideAllTabs();\n\n        if (!wallet.hasListener('staking')) {\n            var em = new EventEmitter();\n\n            em.on('connect', async () => {\n                await this.validateUiState();\n            });\n\n            em.on('disconnect', async () => {\n                await this.validateUiState();\n            });\n\n            em.on('accountsChanged', async () => {\n                await this.validateUiState();\n            });\n\n            em.on('chainChanged', async () => {\n                await this.validateUiState();\n            });\n\n            wallet.addListener('staking', em);\n        }\n\n        await this.validateUiState();\n    }\n\n    componentWillUnmount() {\n        wallet.removeListener('staking');\n    }\n\n    btnTake_Clicked = async () => {\n        var net = await config.getFromMap(WalletProvider.chainId);\n\n        if (!net)\n            return;\n\n        var stakingContract = new wallet.web3.eth.Contract(config.app.stakeAbi, net.fmtaToken.stakingAddress);\n\n        msg.clear();\n        msg.showWarn(\"Processing. Please wait...\");\n        this.disableNavBar();\n        this.enableTab(\"Take\", false);\n\n        var ok = false;\n\n        try {\n            var tx = await stakingContract.methods.withdrawReward().send({ from: wallet.web3.eth.defaultAccount });\n            console.log(\"Transaction: \", tx);\n            ok = tx.status;\n        } catch (ex) {\n            console.error(ex);\n            ok = false;\n        }\n\n        await this.validateUiState();\n        msg.clear();\n\n        if (ok)\n            msg.showOk(\"Taking stake rewards success!\");\n        else\n            msg.showError(\"Taking stake rewards failed!\");\n    };\n\n    btnCompound_Clicked = async () => {\n        var net = await config.getFromMap(WalletProvider.chainId);\n\n        if (!net)\n            return;\n\n        var stakingContract = new wallet.web3.eth.Contract(config.app.stakeAbi, net.fmtaToken.stakingAddress);\n\n        msg.clear();\n        msg.showWarn(\"Processing. Please wait...\");\n        this.disableNavBar();\n        this.enableTab(\"Compound\", false);\n\n        var ok = false;\n\n        try {\n            var tx = await stakingContract.methods.compoundRewards().send({ from: wallet.web3.eth.defaultAccount });\n            console.log(\"Transaction: \", tx);\n            ok = tx.status;\n        } catch (ex) {\n            console.error(ex);\n            ok = false;\n        }\n\n        await this.validateUiState();\n        msg.clear();\n\n        if (ok)\n            msg.showOk(\"Compounding stake rewards success!\");\n        else\n            msg.showError(\"Compounding stake rewards failed!\");\n    };\n\n    btnAdd_Clicked = async () => {\n        var net = await config.getFromMap(WalletProvider.chainId);\n\n        if (!net)\n            return;\n\n        var amount = parseFloat($(\"#inAddAmount\").val());\n        if (isNaN(amount) || amount <= 0) {\n            msg.showWarn(\"Invalid amount entered\");\n            return;\n        }\n\n        var balance = await this.getBalance(net);\n\n        if (isNaN(balance) || balance < amount) {\n            msg.showWarn(\"Amount exceeds balance\");\n            return;\n        }\n\n        var stakingContract = new wallet.web3.eth.Contract(config.app.stakeAbi, net.fmtaToken.stakingAddress);\n        var au = convert.toAtomicUnitsHexPrefixed(amount, net.fmtaToken.decimals);\n\n        msg.clear();\n        msg.showWarn(\"Processing. Please wait...\");\n        this.disableNavBar();\n        this.enableTab(\"Add\", false);\n\n        var ok = false;\n\n        try {\n            var tx = await stakingContract.methods.createStake(au).send({ from: wallet.web3.eth.defaultAccount });\n            console.log(\"Transaction: \", tx);\n            ok = tx.status;\n        } catch (ex) {\n            console.error(ex);\n            ok = false;\n        }\n\n        await this.validateUiState();\n        msg.clear();\n\n        if (ok)\n            msg.showOk(\"Creating stake success!\");\n        else\n            msg.showError(\"Creating stake failed!\");\n\n        $(\"#inAddAmount\").val('');\n    };\n\n    btnRemove_Clicked = async () => {\n        var net = await config.getFromMap(WalletProvider.chainId);\n\n        if (!net)\n            return;\n\n        var amount = parseFloat($(\"#inRemoveAmount\").val());\n        if (isNaN(amount) || amount <= 0) {\n            msg.showWarn(\"Invalid amount entered\");\n            return;\n        }\n\n        var balance = await this.getStake(net);\n\n        if (isNaN(balance) || balance < amount) {\n            msg.showWarn(\"Amount exceeds balance\");\n            return;\n        }\n\n        var stakingContract = new wallet.web3.eth.Contract(config.app.stakeAbi, net.fmtaToken.stakingAddress);\n        var au = convert.toAtomicUnitsHexPrefixed(amount, net.fmtaToken.decimals);\n\n        msg.clear();\n        msg.showWarn(\"Processing. Please wait...\");\n        this.disableNavBar();\n        this.enableTab(\"Remove\", false);\n\n        var ok = false;\n\n        try {\n            var tx = await stakingContract.methods.removeStake(au).send({ from: wallet.web3.eth.defaultAccount });\n            console.log(\"Transaction: \", tx);\n            ok = tx.status;\n        } catch (ex) {\n            console.error(ex);\n            ok = false;\n        }\n\n        await this.validateUiState();\n        msg.clear();\n\n        this.enableTab(\"Remove\", true);\n\n        if (ok)\n            msg.showOk(\"Removing stake success!\");\n        else\n            msg.showError(\"Removing stake failed!\");\n\n        $(\"#inRemoveAmount\").val('');\n    };\n\n    render() {\n        return (\n            <div className=\"ps-3 pe-3\">\n                <div className=\"page-flex-container d-flex flex-row justify-content-center align-items-center\">\n                    <div className=\"page-content\">\n                        <form autoComplete=\"off\" className=\"card border border-primary shadow\">\n                            <div className=\"card-header\">Staking</div>\n                            <div className=\"card-body\">\n                                <div id=\"form\">\n                                    <div className=\"d-flex p-0\">\n                                        <div className=\"w-100 justify-content-start\">\n                                            <Navbar collapseOnSelect expand=\"sm\" className=\"navbar navbar-dark navbar-expand-sm p-0\">\n                                                <Navbar.Toggle className=\"w-100 round btn\"/>\n                                                <Navbar.Collapse>\n                                                    <Nav>\n                                                        <button type=\"button\" className=\"btn btn-link nav-link text-start ps-0\"\n                                                            id=\"btnTake\" onClick={async () => {\n                                                                msg.clear();\n                                                                this.showTab(\"#divTake\");\n                                                            }}>Take</button>\n                                                        <button type=\"button\" className=\"btn btn-link nav-link text-start\"\n                                                            id=\"btnCompound\" onClick={async () => {\n                                                                msg.clear();\n                                                                this.showTab(\"#divCompound\");\n                                                            }}>Compound</button>\n                                                        <button type=\"button\" className=\"btn btn-link nav-link text-start\" id=\"btnAdd\"\n                                                            onClick={async () => {\n                                                                msg.clear();\n                                                                this.showTab(\"#divAdd\");\n                                                            }}>Add</button>\n                                                        <button type=\"button\" className=\"btn btn-link nav-link text-start\" id=\"btnRemove\"\n                                                            onClick={async () => {\n                                                                msg.clear();\n                                                                this.showTab(\"#divRemove\");\n                                                                disable(\"#btnRemove\");\n                                                            }}>Remove</button>\n                                                    </Nav>\n                                                </Navbar.Collapse>\n                                            </Navbar>\n                                        </div>\n                                    </div>\n                                    <div className=\"d-flex mt-3 mb-3\">\n                                        <div className=\"text-end\">\n                                            <div>Balance:&nbsp;</div>\n                                            <div>Staked:&nbsp;</div>\n                                            <div>Rewards:&nbsp;</div>\n                                        </div>\n                                        <div className=\"text-start\">\n                                            <div id=\"lblBalance\">0</div>\n                                            <div id=\"lblStake\">0</div>\n                                            <div id=\"lblReward\">0</div>\n                                        </div>\n                                    </div>\n\n                                    <div id=\"divTake\">\n                                        <button className=\"round btn btn-primary w-100\" onClick={this.btnTake_Clicked}>Take</button>\n                                    </div>\n                                    <div id=\"divCompound\">\n                                        <button className=\"round btn btn-primary w-100\" onClick={this.btnCompound_Clicked}>Compound</button>\n                                    </div>\n                                    <div id=\"divAdd\">\n                                        <div className=\"input-group mb-3\">\n                                            <input type=\"number\" id=\"inAddAmount\" className=\"round-left btn-primary form-control\" placeholder=\"Enter amount\" />\n                                            <button className=\"round-right btn btn-primary\" onClick={this.btnAdd_Clicked}>Add</button>\n                                        </div>\n                                    </div>\n                                    <div id=\"divRemove\">\n                                        <div className=\"input-group mb-3\">\n                                            <input type=\"number\" id=\"inRemoveAmount\" className=\"round-left btn-primary form-control\" placeholder=\"Enter amount\" />\n                                            <button className=\"round-right btn btn-primary\" onClick={this.btnRemove_Clicked}>Remove</button>\n                                        </div>\n                                    </div>\n                                </div>\n                                <MessagePanelComponent />\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}","import { Config as config } from './config'\nimport { Conversions as convert } from '../js/conversions';\nimport { WalletProvider as wallet } from '../js/walletProvider'\n\nexport class LpApprove {\n\n    static async allowance(net, info) {\n        var tokenContract = new wallet.web3.eth.Contract(config.app.tokenAbi, info.poolInfo.ContractAddress);\n\n        try {\n            var al = await tokenContract.methods.allowance(wallet.web3.eth.defaultAccount, net.liquidityMining.address).call();\n            if (!al)\n                return;\n\n            var allowance = convert.fromAtomicUnits(al, 18).toString();\n            return parseFloat(allowance);\n        }\n        catch (ex)\n        {\n            console.error(ex);\n            return;\n        }\n    }\n\n    static async approve(net, info)\n    {\n        var tokenContract = new wallet.web3.eth.Contract(config.app.tokenAbi, info.ContractAddress);\n\n        try {\n            var au2 = convert.toAtomicUnitsHexPrefixed(100000000, 18);\n            await tokenContract.methods.approve(net.liquidityMining.address, au2).send({ from: wallet.web3.eth.defaultAccount });\n        }\n        catch (ex)\n        {\n            console.error(ex);\n            return;\n        }\n    }\n}","import React from 'react';\nimport $ from 'jquery'\nimport EventEmitter from 'events';\nimport { Navbar, Nav } from 'react-bootstrap';\n\nimport { Config as config } from '../js/config'\nimport { Conversions as convert } from '../js/conversions';\nimport { LpApprove as approve } from '../js/lpApprove';\nimport { show, hide, disable, enable } from '../js/ui';\nimport { WalletProvider as wallet } from '../js/walletProvider'\n\nimport { MessagePanel as msg, MessagePanelComponent } from '../components/MessagePanel'\n\nexport default class Mining extends React.Component {\n    constructor(props) {\n        super(props);\n        this.currentTab = null;\n        this.currentInfo = null;\n    }\n\n    async getInfo(network, poolIndex) {\n        disable(\"#selPool\");\n\n        try {\n            if (wallet.web3.eth.defaultAccount !== null) {\n                var lpContract = new wallet.web3.eth.Contract(config.app.miningAbi, network.liquidityMining.address);\n                var poolInfo = await lpContract.methods.poolInfo(poolIndex).call();\n                var tokenContract = new wallet.web3.eth.Contract(config.app.tokenAbi, poolInfo.ContractAddress);\n                var u = await tokenContract.methods.balanceOf(wallet.web3.eth.defaultAccount).call();\n                if (!u) u = 0;\n                var unlocked = convert.fromAtomicUnits(u, 18);\n                var pos = await lpContract.methods.accountPosition(wallet.web3.eth.defaultAccount, poolIndex).call();\n                var l = 0\n                if (!pos)\n                    l = 0;\n                else\n                    l = pos._lockedAmount;\n\n                var locked = convert.fromAtomicUnits(l, 18);\n                var block = await wallet.web3.eth.getBlockNumber();\n                var lockPeriods = await lpContract.methods.showCurrentLockPeriods().call();\n                var remaining = pos._unlockHeight - block;\n                if (remaining < 0)\n                    remaining = 0;\n\n                var status = null;\n\n                if (remaining === 0)\n                    status = \"Unlocked\";\n                else\n                    status = `Unlocks in ${remaining} blocks`;\n\n                this.currentInfo = {\n                    unlocked: unlocked,\n                    locked: locked,\n                    remaining: remaining,\n                    status: status,\n                    poolIndex: poolIndex,\n                    poolInfo: poolInfo,\n                    lockPeriods: lockPeriods\n                }\n            }\n        }\n        catch (ex) {\n            console.error(ex);\n            this.currentInfo = null;\n        }\n\n        enable(\"#selPool\");\n    }\n\n    populatePoolDropDown() {\n        $(\"#selPool\").empty();\n        $(\"#selPool\").append(`<option>Select Pool</option>`);\n\n        var pools = config.app.lpPools[wallet.chainId];\n\n        if (!pools)\n            return;\n\n        $.each(pools, function (k, v) {\n            $(\"#selPool\").append(`<option value=\"${k}\">${v}</option>`);\n        })\n    }\n\n    disableNavBar() {\n        disable(\"#btnTake\");\n        disable(\"#btnAdd\");\n        disable(\"#btnRemove\");\n        disable(\"#selPool\");\n    }\n\n    async validateUiState() {\n        var net = await config.getFromMap(wallet.chainId);\n        msg.clear();\n\n        if (!net) {\n            this.disableNavBar();\n            this.hideAllTabs();\n            $(\"#lblUnlocked\").text(\"0.00\");\n            $(\"#lblLocked\").text(\"0.00\");\n            $(\"#lblStatus\").text(\"N/A\");\n            $(\"#inTakeAmount\").attr(\"placeholder\", \"Enter amount\");\n            $(\"#inAddAmount\").attr(\"placeholder\", \"Enter amount\");\n            return;\n        }\n\n        enable(\"#selPool\");\n\n        var val = $(\"#selPool option:selected\").val();\n        var poolIndex = parseInt(val);\n\n        if (isNaN(poolIndex)) {\n            disable(\"#btnTake\");\n            disable(\"#btnAdd\");\n            disable(\"#btnRemove\");\n            this.hideAllTabs();\n            $(\"#lblUnlocked\").text(\"0.00\");\n            $(\"#lblLocked\").text(\"0.00\");\n            $(\"#lblStatus\").text(\"N/A\");\n            $(\"#inTakeAmount\").attr(\"placeholder\", \"Add to position\");\n            $(\"#inAddAmount\").attr(\"placeholder\", \"Enter amount\");\n            return;\n        }\n\n        await this.getInfo(net, poolIndex);\n\n        var i = this.currentInfo;\n\n        $(\"#selLockPeriod\").empty();\n        $(\"#selLockPeriod\").append(`<option value=\"${i.lockPeriods[0]}\">${i.lockPeriods[0]} days</option>`);\n        $(\"#selLockPeriod\").append(`<option value=\"${i.lockPeriods[1]}\">${i.lockPeriods[1]} days</option>`);\n        $(\"#selLockPeriod\").append(`<option value=\"${i.lockPeriods[2]}\">${i.lockPeriods[2]} days</option>`);\n        //$(\"#selLockPeriod\").append(`<option value=\"${parseInt(i.lockPeriods[0])}\">${i.lockPeriods[0]} days: ${i.poolInfo.lockPeriod0BasisPoint} BP, ${i.poolInfo.compYield0}% Comp. BP</option>`);\n        //$(\"#selLockPeriod\").append(`<option value=\"${parseInt(i.lockPeriods[1])}\">${i.lockPeriods[1]} days: ${i.poolInfo.lockPeriod1BasisPoint} BP, ${i.poolInfo.compYield1}% Comp. BP</option>`);\n        //$(\"#selLockPeriod\").append(`<option value=\"${parseInt(i.lockPeriods[2])}\">${i.lockPeriods[2]} days: ${i.poolInfo.lockPeriod2BasisPoint} BP, ${i.poolInfo.compYield2}% Comp. BP</option>`);\n\n        var fmtr = new Intl.NumberFormat('us-us', {\n            style: 'decimal',\n            useGrouping: false,\n            minimumFractionDigits: 2,\n            maximumFractionDigits: 10\n        });\n\n        $(\"#lblUnlocked\").text(fmtr.format(i.unlocked));\n        $(\"#lblLocked\").text(fmtr.format(i.locked));\n        $(\"#lblStatus\").text(i.status);\n\n        $(\"#inTakeAmount\").attr(\"placeholder\", `Add to position (max ${i.unlocked})`);\n        $(\"#inAddAmount\").attr(\"placeholder\", `Enter amount (max ${i.unlocked})`);\n\n        this.enableTab(\"Take\", i.remaining === 0 && i.locked > 0);\n        this.enableTab(\"Add\", i.unlocked > 0 && i.locked === 0);\n        this.enableTab(\"Remove\", i.remaining === 0 && i.locked > 0);\n    }\n\n    enableTab(name, condition) {\n        if (condition) {\n            enable(`#btn${name}`);\n            enable(`#div${name}`);\n        }\n        else {\n            disable(`#btn${name}`);\n            disable(`#div${name}`);\n        }\n    }\n\n    hideAllTabs() {\n        hide(\"#divTake\");\n        hide(\"#divAdd\");\n        hide(\"#divRemove\");\n        this.currentTab = null;\n    }\n\n    showTab(element) {\n        if (element === this.currentTab)\n            return;\n\n        hide(\"#divTake\");\n        hide(\"#divAdd\");\n        hide(\"#divRemove\");\n\n        show(element);\n        this.currentTab = element;\n    }\n\n    async componentDidMount() {\n        msg.clear();\n\n        this.hideAllTabs();\n\n        if (!wallet.hasListener('mining')) {\n            var em = new EventEmitter();\n\n            em.on('connect', async () => {\n                this.populatePoolDropDown();\n                await this.validateUiState();\n            });\n\n            em.on('disconnect', async () => {\n                this.populatePoolDropDown();\n                await this.validateUiState();\n            });\n\n            em.on('accountsChanged', async () => {\n                await this.validateUiState();\n            });\n\n            em.on('chainChanged', async () => {\n                this.populatePoolDropDown();\n                await this.validateUiState();\n            });\n\n            wallet.addListener('staking', em);\n        }\n\n        if (wallet.isConnected())\n            this.populatePoolDropDown();\n\n        await this.validateUiState();\n    }\n\n    componentWillUnmount() {\n        wallet.removeListener('mining');\n    }\n\n    btnTake_Clicked = async () => {\n        var net = await config.getFromMap(wallet.chainId);\n\n        if (!net)\n            return;\n\n        var lpContract = new wallet.web3.eth.Contract(config.app.miningAbi, net.liquidityMining.address);\n\n        var amount = parseFloat($(\"#inTakeAmount\").val());\n        if (isNaN(amount) || amount <= 0)\n            amount = 0;\n\n        if (amount > 0) {\n            var allowance = await approve.allowance(net, this.currentInfo);\n            if (allowance < amount)\n                await approve.approve(net, this.currentInfo);\n        }\n\n        msg.clear();\n        msg.showWarn(\"Processing. Please wait...\");\n        this.disableNavBar();\n        this.enableTab(\"Take\", false);\n\n        var ok = false;\n\n        try {\n            var au = convert.toAtomicUnitsHexPrefixed(amount, 18);\n            var tx = await lpContract.methods.withdrawAccruedYieldAndAdd(this.currentInfo.poolIndex, au).send({ from: wallet.web3.eth.defaultAccount });\n            console.log(\"Transaction: \", tx);\n            ok = tx.status;\n        } catch (ex) {\n            console.error(ex);\n            ok = false;\n        }\n\n        await this.validateUiState();\n        msg.clear();\n\n        if (ok)\n            msg.showOk(\"Taking mining yield success!\");\n        else\n            msg.showError(\"Taking mining yield failed!\");\n\n        $(\"#inTakeAmount\").val('');\n    };\n\n    btnAdd_Clicked = async () => {\n        var net = await config.getFromMap(wallet.chainId);\n\n        if (!net)\n            return;\n\n        var lpContract = new wallet.web3.eth.Contract(config.app.miningAbi, net.liquidityMining.address);\n\n        var amount = parseFloat($(\"#inAddAmount\").val());\n        if (isNaN(amount) || amount <= 0) {\n            msg.showWarn(\"Invalid amount entered\");\n            return;\n        }\n\n        if (isNaN(this.currentInfo.unlocked) || this.currentInfo.unlocked < amount) {\n            msg.showWarn(\"Amount exceeds balance\");\n            return;\n        }\n\n        var allowance = await approve.allowance(net, this.currentInfo);\n\n        if (allowance < amount)\n            await approve.approve(net, this.currentInfo);\n\n        msg.clear();\n        msg.showWarn(\"Processing. Please wait...\");\n        this.disableNavBar();\n        this.enableTab(\"Add\", false);\n\n        var val = $(\"#selLockPeriod option:selected\").val();\n        var lockPeriod = parseInt(val);\n\n        var ok = false;\n\n        try {\n            var au = convert.toAtomicUnitsHexPrefixed(amount, net.fmtaToken.decimals);\n            var tx = await lpContract.methods.addPosition(au, lockPeriod, this.currentInfo.poolIndex).send({ from: wallet.web3.eth.defaultAccount });\n            console.log(\"Transaction: \", tx);\n            ok = tx.status;\n        } catch (ex) {\n            console.error(ex);\n            ok = false;\n        }\n\n        await this.validateUiState();\n        msg.clear();\n\n        if (ok)\n            msg.showOk(\"Creating stake success!\");\n        else\n            msg.showError(\"Creating stake failed!\");\n\n        $(\"#inAddAmount\").val('');\n    };\n\n    btnRemove_Clicked = async () => {\n        var net = await config.getFromMap(wallet.chainId);\n\n        if (!net)\n            return;\n\n        var lpContract = new wallet.web3.eth.Contract(config.app.miningAbi, net.liquidityMining.address);\n\n        msg.clear();\n        msg.showWarn(\"Processing. Please wait...\");\n        this.disableNavBar();\n        this.enableTab(\"Remove\", false);\n\n        var ok = false;\n\n        try {\n            var tx = await lpContract.methods.removePosition(this.currentInfo.poolIndex).send({ from: wallet.web3.eth.defaultAccount });\n            console.log(\"Transaction: \", tx);\n            ok = tx.status;\n        } catch (ex) {\n            console.error(ex);\n            ok = false;\n        }\n\n        await this.validateUiState();\n        msg.clear();\n\n        this.enableTab(\"Remove\", true);\n\n        if (ok)\n            msg.showOk(\"Removing position success!\");\n        else\n            msg.showError(\"Removing position failed!\");\n    };\n\n    selPool_Changed = async () => {\n        this.validateUiState();\n    };\n\n    render() {\n        return (\n            <div className=\"ps-3 pe-3\">\n                <div className=\"page-flex-container d-flex flex-row justify-content-center align-items-center\">\n                    <div className=\"page-content\">\n                        <form autoComplete=\"off\" className=\"card border border-primary shadow\">\n                            <div className=\"card-header\">LP Mining</div>\n                            <div className=\"card-body\">\n                                <div id=\"form\">\n                                    <Navbar collapseOnSelect expand=\"sm\" className=\"navbar navbar-dark navbar-expand-sm p-0\">\n                                        <Navbar.Toggle className=\"w-100 round btn\"/>\n                                        <Navbar.Collapse>\n                                            <Nav>\n                                                <button type=\"button\" className=\"btn btn-link nav-link text-start ps-0\"\n                                                    id=\"btnTake\" onClick={async () => {\n                                                        msg.clear();\n                                                        this.showTab(\"#divTake\");\n                                                    }}>Take</button>\n                                                <button type=\"button\" className=\"btn btn-link nav-link text-start\" id=\"btnAdd\"\n                                                    onClick={async () => {\n                                                        msg.clear();\n                                                        this.showTab(\"#divAdd\");\n                                                    }}>Add</button>\n                                                <button type=\"button\" className=\"btn btn-link nav-link text-start\" id=\"btnRemove\"\n                                                    onClick={async () => {\n                                                        msg.clear();\n                                                        this.showTab(\"#divRemove\");\n                                                    }}>Remove</button>\n                                                <select id=\"selPool\" className=\"btn btn-link nav-link text-start\" type=\"button\" data-toggle=\"dropdown\" onChange={this.selPool_Changed} />\n                                            </Nav>\n                                        </Navbar.Collapse>\n                                    </Navbar>\n                                    <div className=\"d-flex mt-3 mb-3\">\n                                        <div className=\"text-end\">\n                                            <div>Unlocked:&nbsp;</div>\n                                            <div>Locked:&nbsp;</div>\n                                            <div>Status:&nbsp;</div>\n                                        </div>\n                                        <div className=\"text-start\">\n                                            <div id=\"lblUnlocked\">0</div>\n                                            <div id=\"lblLocked\">0</div>\n                                            <div id=\"lblStatus\">N/A</div>\n                                        </div>\n                                    </div>\n\n                                    <div id=\"divTake\">\n                                        <div className=\"input-group mb-3\">\n                                            <input type=\"number\" id=\"inTakeAmount\" className=\"round-left btn-primary form-control\" placeholder=\"Enter amount\" />\n                                            <button className=\"round-right btn btn-primary\" onClick={this.btnTake_Clicked}>Take</button>\n                                        </div>\n                                    </div>\n                                    <div id=\"divAdd\">\n                                        <div className=\"input-group mb-3\">\n                                            <input type=\"number\" id=\"inAddAmount\" className=\"round-left btn-primary form-control\" placeholder=\"Enter amount\" />\n                                            <select id=\"selLockPeriod\" className=\"btn btn-primary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" style={{ width: \"auto\" }} />\n                                            <button className=\"round-right btn btn-primary\" onClick={this.btnAdd_Clicked}>Add</button>\n                                        </div>\n                                    </div>\n                                    <div id=\"divRemove\">\n                                        <div className=\"input-group mb-3\">\n                                            <button className=\"round btn btn-primary w-100\" onClick={this.btnRemove_Clicked}>Remove</button>\n                                        </div>\n                                    </div>\n                                </div>\n                                <MessagePanelComponent />\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}","export class CancellationToken {\n    constructor() {\n        this.cancelRequested = false;\n    }\n\n    cancel() {\n        this.cancelRequested = true;\n    }\n}","\nimport { Config as config } from './config'\nimport { Conversions as convert } from './conversions';\n\nimport EventEmitter from 'events';\nimport $ from 'jquery';\n\nexport class Energizer {\n    constructor(teleport, cancellationToken) {\n        this.teleport = teleport;\n        this.emitter = new EventEmitter();\n        this.cancelRequested = false;\n        this.cancellationToken = cancellationToken;\n    }\n\n    async on(ev, callback) {\n        this.emitter.on(ev, callback);\n    }\n\n    delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\n    async start() {\n        while (true)\n        {\n            if (this.cancellationToken.cancelRequested)\n            {\n                console.warn(\"Energize task cancelled by token\");\n                return;\n            }\n\n            console.log(\"Attempting energize\");\n            if (await this.energize())\n                return;\n\n            await this.delay(10000);\n        }\n    }\n\n    async energize() {\n        var transactionData = this.teleport.transactionData;\n        var blockNumber = this.teleport.blockNumber;\n        var confs = this.teleport.destinationToken.confs;\n\n        var approval = await this.getApproval(this.teleport.signature, blockNumber, transactionData, confs);\n\n        if (approval.length < confs) {\n            if (this.cancellationToken.cancelRequested)\n                return true;\n\n            if (approval.length > 0) {\n                if (approval[0].code !== 0)\n                {\n                    this.emitter.emit('error', approval[0].code, approval[0].data.s);\n\n                    if (approval[0].code !== 100)\n                        return true;\n                }\n            }\n            else\n                this.emitter.emit('error', -1, \"Not Approved\");\n\n            return false;\n        }\n\n        var serverSignatures = [];\n\n        $.each(approval, function () {\n            serverSignatures.push(`0x${this.data.s}`);\n        });\n\n        this.emitter.emit(\"ok\", serverSignatures);\n        return true;\n    }\n\n    async getApproval(cSig, block, txData, confs) {\n        var bigIntBlock = await convert.toBigIntHex(block);\n\n        var responses = [];\n\n        for (var i = 1; i <= config.app.serverCount; i++) {\n            var response = await this.getServerApproval(i, bigIntBlock, txData, cSig);\n\n            if (response == null) {\n                console.log(\"No response\");\n                continue;\n            }\n\n            if (response.code !== 0) {\n                console.log(\"Server responded with error\", response.code);\n                responses.push(response);\n                return responses;\n            }\n\n            console.log(\"Server responded OK\");\n            responses.push(response);\n            if (responses.length >= confs)\n                break;\n        }\n\n        return responses;\n    }\n\n    async getServerApproval(index, block, txData, cSig) {\n        var url = `https://cp${index}.${config.app.serverDomain}/authorize/?n=${config.app.net}&d=${txData}&s=${cSig}&b=${block}`;\n\n        console.log(\"Contacting server:\", index);\n\n        var result = await $.ajax({\n            url: url,\n            method: \"GET\",\n            dataType: 'json',\n            cache: 'false'\n        });\n        console.log(result);\n        return result;\n    }\n}","import React from 'react';\nimport $ from 'jquery';\nimport EventEmitter from 'events';\n\nimport { Config as config } from '../js/config'\nimport { CancellationToken } from '../js/cancellationToken';\nimport { Conversions as convert } from '../js/conversions';\nimport { Energizer } from '../js/energizer';\nimport { enable, disable } from '../js/ui';\nimport { WalletProvider as wallet } from '../js/walletProvider'\n\nimport { MessagePanel as msg, MessagePanelComponent } from '../components/MessagePanel'\n\nexport default class Teleport extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.completedTeleport = null;\n        this.cancellationToken = new CancellationToken();\n\n        this._populateTokenDropDownLock = false;\n    }\n\n    async populateTokenDropDown() {\n        if (this._populateTokenDropDownLock)\n            return;\n        \n        this._populateTokenDropDownLock = true;\n\n        console.log(\"populateTokenDropDown\");\n        $(\"#sourceToken\").empty();\n        $(\"#destination\").empty();\n        $(\"#sourceToken\").append($(\"<option />\").text(\"Select token\"));\n        $(\"#destination\").append($(\"<option />\").text(\"Select destination\"));\n\n        await this.validateUiState();\n\n        var network = await config.getFromMap(wallet.chainId);\n\n        if (!network)\n        {\n            this._populateTokenDropDownLock = false;\n            return;\n        }\n\n        $(\"#sourceToken\").append($(\"<option />\").text(network.fmtaToken.ticker));\n\n        $.each(network.tokens, function () {\n            if (this.bridgeAddress)\n                $(\"#sourceToken\").append($(\"<option />\").text(this.ticker));\n        });\n\n        this._populateTokenDropDownLock = false;\n    }\n\n    async getSourceTokenFromDropdown() {\n        var network = await config.getFromMap(wallet.chainId);\n        if (!network)\n            return;\n\n        var sourceTokenTicker = $(\"#sourceToken option:selected\").text();\n        var token;\n        if (sourceTokenTicker === network.fmtaToken.ticker) {\n            token = network.fmtaToken;\n        } else {\n            $.each(network.tokens, function () {\n                if (this.ticker === sourceTokenTicker) {\n                    token = this;\n                    return false;\n                }\n            });\n        }\n\n        return token;\n    }\n\n    getDestinationNetworkFromDropDown() {\n        var destNetworkName = $(\"#destination option:selected\").text();\n        var network;\n\n        $.each(config.network, function () {\n            if (this.network === destNetworkName) {\n                network = this;\n                return false;\n            }\n        });\n        return network;\n    }\n\n    async getDestinationTokenFromDropDown() {\n        var sourceToken = await this.getSourceTokenFromDropdown();\n        var network = this.getDestinationNetworkFromDropDown();\n\n        var token;\n        if (sourceToken.ticker === network.fmtaToken.ticker) {\n            token = network.fmtaToken;\n        } else {\n            $.each(network.tokens, function () {\n                if (this.ticker === sourceToken.ticker) {\n                    token = this;\n                    return false;\n                }\n            });\n        }\n\n        return token;\n    }\n\n    async validateUiState() {\n        var net = await config.getFromMap(wallet.chainId);\n\n        msg.clear();\n        disable(\"#button\");\n\n        var balance = await this.getTokenBalance();\n\n        if (!net) {\n            disable(\"#form\");\n            return;\n        }\n\n        if (net.chainId !== wallet.chainId)\n            return;\n\n        var index = $(\"#destination\").prop('selectedIndex') - 1;\n        if (index < 0)\n            return;\n\n        var amount = parseFloat($(\"#amount\").val());\n        if (isNaN(amount) || amount <= 0 || isNaN(balance) || balance < amount) {\n            msg.showWarn(\"Invalid amount entered\");\n            disable(\"#button\");\n            return;\n        }\n\n        enable(\"#button\");\n    };\n\n    async getTokenBalance() {\n        var network = await config.getFromMap(wallet.chainId);\n        var token = await this.getSourceTokenFromDropdown();\n\n        if (!network || !token) {\n            $(\"#amount\").attr(\"placeholder\", \"Enter amount\");\n            return;\n        }\n\n        if (wallet.chainId === network.chainId && wallet.web3.eth.defaultAccount) {\n            var contract = new wallet.web3.eth.Contract(config.app.tokenAbi, token.tokenAddress);\n            var bal = await contract.methods.balanceOf(wallet.web3.eth.defaultAccount).call();\n            if (!bal)\n                bal = 0;\n\n            var balance = convert.fromAtomicUnits(bal, token.decimals).toString();\n\n            $(\"#amount\").attr('placeholder', `Enter amount (max ${balance})`);\n            return parseFloat(balance);\n        }\n    }\n\n    createNonce() {\n        var address = wallet.web3.eth.defaultAccount.toString().slice(-40);\n        var timestamp = convert.to32bitHex(Date.now());\n\n        //todo: proper hex conversion from 8 bytes to 8 hex digits\n        var array = new Uint8Array(8);\n        window.crypto.getRandomValues(array);\n        var hex = convert.bin2hex(array);\n        return (timestamp + address + hex);\n    }\n\n    async componentDidMount() {\n        msg.clear();\n        if (!wallet.hasListener('teleport')) {\n            var em = new EventEmitter();\n\n            em.on('connect', async () => {\n                msg.clear();\n                await this.populateTokenDropDown();\n                enable(\"#form\");\n            });\n\n            em.on('disconnect', () => {\n                disable(\"#form\");\n                msg.clear();\n                this.cancellationToken.cancel();\n            });\n\n            em.on('accountsChanged', async (accounts) => {\n                if (accounts === null || accounts.length === 0) {\n                    disable(\"#form\");\n                    return;\n                }\n                \n                msg.clear();\n                await this.populateTokenDropDown();\n                enable(\"#form\");\n                await this.validateUiState();\n            });\n\n            em.on('chainChanged', async (chainId) => {\n                msg.clear();\n                await this.populateTokenDropDown();\n                if (this.completedTeleport == null) {\n                    await this.validateUiState();\n                    return;\n                }\n\n                var net = await config.getFromMap(wallet.chainId);\n\n                if (this.completedTeleport.destination.chainId !== wallet.chainId) {\n                    msg.showWarn(\"Switch to the \" + net.network + \" network to energize\");\n                    return;\n                }\n\n                msg.showWarn(\"Waiting for energize. Do not close this page\");\n\n                this.cancellationToken = new CancellationToken();\n                var energizer = new Energizer(this.completedTeleport, this.cancellationToken);\n                energizer.on('error', (code, error) => {\n                    if (code !== 100) {\n                        msg.clear();\n                        enable(\"#form\");\n                    }\n\n                    msg.showError(\"Error \" + code + \": \" + error);\n                });\n\n                energizer.on('ok', async (serverSignatures) => {\n                    msg.clear();\n                    msg.showWarn(\"Energized confirmed. Processing transaction...\");\n                    try {\n                        var destBridgeContract = new wallet.web3.eth.Contract(config.app.bridgeAbi, energizer.teleport.destinationToken.bridgeAddress);\n                        var tx = await destBridgeContract.methods.deposit(energizer.teleport.signature, serverSignatures, energizer.teleport.transactionData).send({ from: wallet.web3.eth.defaultAccount });\n                        console.log(\"Transaction: \", tx);\n                        enable(\"#form\");\n                        msg.showOk(\"Energize success!\");\n                    }\n                    catch\n                    {\n                        msg.clear();\n                        msg.showError(\"Energize faile!\");\n                        enable(\"#form\");\n                        return;\n                    }\n                });\n\n                await energizer.start();\n            });\n\n            wallet.addListener('teleport', em);\n        }\n\n        if (wallet.isConnected())\n            enable(\"#form\");\n        else\n            disable(\"#form\");\n\n        await this.populateTokenDropDown();\n\n        $(\"#sourceToken\").on('change', async () => {\n            var network = await config.getFromMap(wallet.chainId);\n            var token = await this.getSourceTokenFromDropdown();\n\n            $(\"#destination\").empty();\n            $(\"#destination\").append($(\"<option />\").text(\"Select destination\"));\n\n            await this.validateUiState();\n\n            if (!token)\n                return;\n\n            $.each(config.network, function () {\n                var destNetwork = this;\n                var destTokens = this.tokens;\n                if (destNetwork !== network) {\n                    if (token.ticker === destNetwork.fmtaToken.ticker)\n                        $(\"#destination\").append($(\"<option />\").text(destNetwork.network));\n                    else {\n                        $.each(destTokens, function () {\n                            if (this.ticker === token.ticker) {\n                                $(\"#destination\").append($(\"<option />\").text(destNetwork.network));\n                            }\n                        });\n                    }\n                }\n            });\n        });\n\n        $(\"#destination\").on('change', async () => {\n            await this.validateUiState();\n        });\n\n        $(\"#amount\").on('change', async () => {\n            await this.validateUiState();\n        });\n\n        $(\"#button\").on('click', async () => {\n            msg.clear();\n            disable(\"#form\");\n            var source = await config.getFromMap(wallet.chainId);\n            var sourceToken = await this.getSourceTokenFromDropdown();\n            var destination = await this.getDestinationNetworkFromDropDown();\n            var destinationToken = await this.getDestinationTokenFromDropDown();\n            var amountAtomicUnitsHex = convert.toAtomicUnitsHex($(\"#amount\").val(), sourceToken.decimals);\n            var sourceId = convert.to32bitHex(source.id) + convert.to32bitHex(sourceToken.id);\n            var destId = convert.to32bitHex(destination.id) + convert.to32bitHex(destinationToken.id);\n            var uuid = sourceId + destId;\n            var nonce = this.createNonce();\n            var address = wallet.web3.eth.defaultAccount.toString().slice(-40).padStart(64, '0');\n\n            var transactionData = \"0x\" + amountAtomicUnitsHex + uuid + nonce + address;\n\n            msg.showWarn(\"Requesting signature...\");\n            var signature;\n\n            try {\n                signature = await wallet.web3.eth.personal.sign(transactionData, wallet.web3.eth.defaultAccount);\n            }\n            catch\n            {\n                msg.clear();\n                msg.showError(\"Transaction signing failed\");\n                enable(\"#form\");\n                return\n            }\n\n            try {\n                msg.showWarn(\"Processing teleport. Please wait...\");\n                var sourceBridgeContract = new wallet.web3.eth.Contract(config.app.bridgeAbi, sourceToken.bridgeAddress);\n                var withdrawTx = await sourceBridgeContract.methods.withdraw(signature, transactionData).send({ from: wallet.web3.eth.defaultAccount });\n                console.log(\"Withdraw: \", withdrawTx);\n\n                var txHash = withdrawTx.transactionHash;\n                var blockNumber = withdrawTx.blockNumber;\n\n                this.completedTeleport = {\n                    txHash,\n                    blockNumber,\n                    transactionData,\n                    source,\n                    destination,\n                    destinationToken,\n                    signature\n                };\n\n                msg.clear();\n                msg.showOk(\"Teleport completed.\");\n\n                if (wallet.isMetamask)\n                    msg.showWarn(\"Switch to \" + destination.network + \" to energize\");\n                else if (wallet.isWalletConnect) {\n                    msg.showWarn(\"Requesting netework switch to \" + destination.network + \" to energize\");\n                    await wallet.switchNetwork(destination.chainId);\n                }\n            }\n            catch (ex) {\n                msg.clear();\n                msg.showError(\"Teleport transaction failed\");\n                console.error(ex);\n                enable(\"#form\");\n            }\n\n            await this.getTokenBalance();\n        });\n    }\n\n    componentWillUnmount() {\n        wallet.removeListener('teleport');\n        this.cancellationToken.cancel();\n    }\n\n    render() {\n        return (\n            <div className=\"ps-3 pe-3\">\n                <div className=\"page-flex-container d-flex flex-row justify-content-center align-items-center\">\n                    <div className=\"page-content\">\n                        <form autoComplete=\"off\" className=\"card border border-primary shadow\">\n                            <div className=\"card-header\">Teleport</div>\n                            <div className=\"card-body\">\n                                <div id=\"form\">\n                                    <div className=\"input-group mb-3\">\n                                        <select id=\"sourceToken\" className=\"round-left btn-primary dropdown-toggle form-control\" type=\"button\" data-toggle=\"dropdown\" ></select>\n                                        <input type=\"number\" id=\"amount\" className=\"round-right btn-primary form-control numeric-input\"\n                                            placeholder=\"Enter amount\" />\n                                    </div>\n                                    <div className=\"mb-3\">\n                                        <select id=\"destination\" className=\"round btn-primary dropdown-toggle form-control\" type=\"button\" data-toggle=\"dropdown\" ></select>\n                                    </div>\n                                    <div>\n                                        <button type=\"button\" id=\"button\" className=\"round btn btn-primary w-100\">Teleport!</button>\n                                    </div>\n                                </div>\n                                <MessagePanelComponent />\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n","import $ from 'jquery';\n\nexport class Sorter {\n    static wrapData = null;\n\n    static wrappable(data) {\n\n        if (this.wrapData)\n            return;\n\n        var processed = [];\n        $.each(data, function () {\n            var net = this;\n            var netData = {\n                chainId: this.chainId,\n                network: this.network,\n                ticker: this.ticker,\n                tokens: []\n            };\n\n            $.each(net.tokens, function () {\n                if (this.wrappedTokenAddress) {\n                    var tokenData = {\n                        name: this.name,\n                        ticker: this.ticker,\n                        wrappedName: \"\",\n                        wrappedTicker: \"\",\n                        tokenAddress: this.tokenAddress,\n                        wrappedTokenAddress: this.wrappedTokenAddress,\n                        decimals: this.decimals\n                    }\n\n                    $.each(net.tokens, function () {\n                        if (this.tokenAddress === tokenData.wrappedTokenAddress) {\n                            tokenData.wrappedName = this.name;\n                            tokenData.wrappedTicker = this.ticker;\n                        }\n                    });\n\n                    netData.tokens.push(tokenData);\n                }\n            });\n\n            if (netData.tokens.length > 0) {\n                processed.push(netData);\n            }\n        });\n\n        this.wrapData = processed;\n    }\n}","import { MessagePanel as msg } from '../components/MessagePanel'\nimport $ from 'jquery';\nimport { enable, disable } from './ui';\nimport { WalletProvider as wallet, WalletProvider } from './walletProvider'\nimport { Config as config } from './config'\nimport { Conversions as convert } from './conversions';\nimport { Sorter as sort } from './sorter';\nimport EventEmitter from 'events';\n\nexport class UiCommon {\n\n    constructor(wrap) {\n        this.wrap = wrap;\n        this._populateTokenDropDownLock = false;\n    }\n\n    async getTokenBalance() {\n        var data = await this.getSelectedData();\n\n        if (!data) {\n            $(\"#amount\").attr(\"placeholder\", \"Enter amount\");\n            return;\n        }\n\n        var network = data.network;\n        var token = data.token;\n        var contract;\n\n        if (wallet.chainId === network.chainId && wallet.web3.eth.defaultAccount) {\n            if (this.wrap)\n                contract = new wallet.web3.eth.Contract(config.app.tokenAbi, token.tokenAddress);\n            else\n                contract = new wallet.web3.eth.Contract(config.app.tokenAbi, token.wrappedTokenAddress);\n\n            var bal = await contract.methods.balanceOf(wallet.web3.eth.defaultAccount).call();\n\n            if (!bal)\n                bal = 0;\n\n            var balance = convert.fromAtomicUnits(bal, token.decimals).toString();\n\n            $(\"#amount\").attr('placeholder', `Enter amount (max ${balance})`);\n            return parseFloat(balance);\n        }\n    }\n\n    async getSelectedData() {\n        var network = await config.getFromMap(WalletProvider.chainId);\n        if (!network)\n            return;\n\n        var tokIndex = $(\"#token\").prop('selectedIndex') - 1;\n        if (tokIndex < 0)\n            return;\n\n        var token = network.tokens[tokIndex];\n\n        return {\n            network: network,\n            token: token\n        };\n    }\n\n    async populateTokenDropDown() {\n        if (this._populateTokenDropDownLock)\n            return;\n        \n        this._populateTokenDropDownLock = true;\n\n        console.log(\"populateTokenDropDown\");\n        $(\"#token\").empty();\n        $(\"#token\").append($(\"<option />\").text(\"Select token\"));\n        var chainId = wallet.chainId;\n        \n        if (isNaN(chainId)) {\n            disable(\"#form\");\n            this._populateTokenDropDownLock = false;\n            return;\n        }\n\n        enable(\"#form\");\n        await config.fetchNetworkConfig();\n        sort.wrappable(config.network);\n\n        console.log(\"WrapData:\", sort.wrapData);\n\n        if (isNaN(wallet.chainId) || wallet.chainId === 0)\n        {\n            disable(\"#form\");\n            this._populateTokenDropDownLock = false;\n            return;\n        }\n        \n        var network = null;\n        $.each(sort.wrapData, function () {\n            if (this.chainId === wallet.chainId) {\n                network = this;\n                return false;\n            }\n        });\n\n        if (!network)\n        {\n            this._populateTokenDropDownLock = false;\n            return;\n        }\n\n        if (this.wrap)\n        {\n            $.each(network.tokens, function () {\n                $(\"#token\").append($(\"<option />\").text(this.ticker));\n            });\n        }\n        else\n        {\n            $.each(network.tokens, function () {\n                $(\"#token\").append($(\"<option />\").text(this.wrappedTicker));\n            });\n        }\n\n        this._populateTokenDropDownLock = false;\n    }\n\n    registerWalletListeners(id) {\n        if (!wallet.hasListener(id)) {\n            var em = new EventEmitter();\n\n            em.on('connect', async (connectInfo) => {\n                await this.populateTokenDropDown();\n                enable(\"#form\");\n            });\n\n            em.on('disconnect', (disconnectInfo) => {\n                disable(\"#form\");\n                msg.clear();\n            });\n\n            em.on('accountsChanged', async (accounts) => {\n                if (accounts === null || accounts.length === 0) {\n                    disable(\"#form\");\n                    return;\n                }\n                await this.populateTokenDropDown();\n                enable(\"#form\");\n            });\n\n            em.on('chainChanged', async (chainId) => {\n                await this.populateTokenDropDown();\n                enable(\"#form\");\n            });\n\n            wallet.addListener(id, em);\n        }\n    }\n}","import React from 'react';\nimport $ from 'jquery';\n\nimport { Config as config } from '../js/config'\nimport { Conversions as convert } from '../js/conversions';\nimport { enable, disable } from '../js/ui';\nimport { WalletProvider as wallet } from '../js/walletProvider'\nimport { UiCommon } from '../js/wrapUi';\n\nimport { MessagePanel as msg, MessagePanelComponent } from '../components/MessagePanel'\n\nexport default class Wrap extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.common = new UiCommon(true);\n    }\n\n    async getTokenAllowance() {\n        var data = await this.common.getSelectedData();\n\n        if (!data)\n            return 0;\n\n        var network = data.network;\n        var token = data.token;\n\n        if (wallet.chainId === network.chainId && wallet.web3.eth.defaultAccount) {\n            var contract = new wallet.web3.eth.Contract(config.app.tokenAbi, token.tokenAddress);\n            var al = await contract.methods.allowance(wallet.web3.eth.defaultAccount, data.token.wrappedTokenAddress).call();\n            if (!al)\n                return 0;\n\n            var allowance = convert.fromAtomicUnits(al, token.decimals).toString();\n            return parseFloat(allowance);\n        }\n    }\n\n    async componentDidMount() {\n        msg.clear();\n\n        this.common.registerWalletListeners('wrap');\n\n        if (wallet.isConnected())\n            enable(\"#form\");\n        else\n            disable(\"#form\");\n\n        await this.common.populateTokenDropDown();\n    }\n\n    btnWrap_Clicked = async () => {\n        var data = await this.common.getSelectedData();\n        var amount = parseFloat($(\"#amount\").val());\n        var balance = await this.common.getTokenBalance();\n\n        if (isNaN(amount) || amount <= 0) {\n            msg.showWarn(\"Invalid amount entered\");\n            return;\n        }\n\n        if (isNaN(balance) || balance < amount) {\n            msg.showWarn(\"Amount exceeds balance\");\n            return;\n        }\n\n        var tContract = new wallet.web3.eth.Contract(config.app.tokenAbi, data.token.tokenAddress);\n        var wtContract = new wallet.web3.eth.Contract(config.app.tokenAbi, data.token.wrappedTokenAddress);\n        msg.clear();\n        msg.showWarn(\"Processing. Please wait...\");\n        disable(\"#form\");\n\n        var ok = false;\n\n        try {\n            var allowance = await this.getTokenAllowance();\n            if (allowance < amount) {\n                var au2 = convert.toAtomicUnitsHexPrefixed(100000000, data.token.decimals);\n                var at = await tContract.methods.approve(data.token.wrappedTokenAddress, au2).send({ from: wallet.web3.eth.defaultAccount });\n                console.log(\"Transaction: \", at);\n                ok = at.status;\n            }\n            else\n                ok = true;\n        } catch (ex) {\n            console.error(ex);\n            ok = false;\n        }\n\n        if (ok) {\n            try {\n                var au = convert.toAtomicUnitsHexPrefixed(amount, data.token.decimals);\n                var tx = await wtContract.methods.wrap(au).send({ from: wallet.web3.eth.defaultAccount });\n                console.log(\"Transaction: \", tx);\n                ok = tx.status;\n            } catch (ex) {\n                console.error(ex);\n                ok = false;\n            }\n        }\n\n        await this.common.getTokenBalance();\n\n        enable(\"#form\");\n        msg.clear();\n\n        if (ok)\n            msg.showOk(\"Wrap success!\");\n        else\n            msg.showError(\"Wrap failed!\");\n\n        $(\"#amount\").val('');\n    }\n\n    componentWillUnmount() {\n        wallet.removeListener('wrap');\n    }\n\n    render() {\n        return (\n            <div className=\"ps-3 pe-3\">\n                <div className=\"page-flex-container d-flex flex-row justify-content-center align-items-center\">\n                    <div className=\"page-content\">\n                        <form autoComplete=\"off\" className=\"card border border-primary shadow\">\n                            <div className=\"card-header\">Wrap</div>\n                            <div className=\"card-body\">\n                                <div id=\"form\">\n                                    <div className=\"input-group mb-3\">\n                                        <select id=\"token\" className=\"round-left btn-primary dropdown-toggle form-control\" type=\"button\" data-toggle=\"dropdown\"  onChange={async () => {\n                                            await this.common.getTokenBalance();\n                                        }}></select>\n                                        <input type=\"number\" id=\"amount\" className=\"round-right btn-primary form-control\" placeholder=\"Enter amount\" />\n                                    </div>\n                                    <div>\n                                        <button type=\"button\" id=\"button\" className=\"round btn btn-primary w-100\" onClick={this.btnWrap_Clicked}>Wrap!</button>\n                                    </div>\n                                </div>\n                                <MessagePanelComponent />\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport $ from 'jquery';\n\nimport { Config as config } from '../js/config'\nimport { Conversions as convert } from '../js/conversions';\nimport { enable, disable } from '../js/ui';\nimport { WalletProvider as wallet } from '../js/walletProvider'\nimport { UiCommon } from '../js/wrapUi';\n\nimport { MessagePanel as msg, MessagePanelComponent } from '../components/MessagePanel'\n\nexport default class Unwrap extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.common = new UiCommon(false);\n    }\n\n    async componentDidMount() {\n        msg.clear();\n\n        this.common.registerWalletListeners('unwrap');\n\n        if (wallet.isConnected())\n            enable(\"#form\");\n        else\n            disable(\"#form\");\n\n        await this.common.populateTokenDropDown();\n    }\n\n    btnUnwrap_Clicked = async () => {\n        var data = await this.common.getSelectedData();\n        var amount = parseFloat($(\"#amount\").val());\n        var balance = await this.common.getTokenBalance();\n\n        if (isNaN(amount) || amount <= 0) {\n            msg.showWarn(\"Invalid amount entered\");\n            return;\n        }\n\n        if (isNaN(balance) || balance < amount) {\n            msg.showWarn(\"Amount exceeds balance\");\n            return;\n        }\n\n        var contract = new wallet.web3.eth.Contract(config.app.tokenAbi, data.token.wrappedTokenAddress);\n        msg.clear();\n        msg.showWarn(\"Processing. Please wait...\");\n        disable(\"#form\");\n\n        var ok = false;\n\n        try {\n            var au = convert.toAtomicUnitsHexPrefixed(amount, data.token.decimals);\n            var tx = await contract.methods.unwrap(au).send({ from: wallet.web3.eth.defaultAccount });\n            console.log(\"Transaction: \", tx);\n            ok = tx.status;\n        } catch (ex) {\n            console.error(ex);\n            ok = false;\n        }\n\n        await this.common.getTokenBalance();\n\n        msg.clear();\n        enable(\"#form\");\n\n        if (ok)\n            msg.showOk(\"Unwrap success!\");\n        else\n            msg.showError(\"Unwrap failed!\");\n\n        $(\"#amount\").val('');\n    };\n\n    componentWillUnmount() {\n        wallet.removeListener('unwrap');\n    }\n\n    render() {\n        return (\n            <div className=\"ps-3 pe-3\">\n                <div className=\"page-flex-container d-flex flex-row justify-content-center align-items-center\">\n                    <div className=\"page-content\">\n                        <form autoComplete=\"off\" className=\"card border border-primary shadow\">\n                            <div className=\"card-header\">Unwrap</div>\n                            <div className=\"card-body\">\n                                <div id=\"form\">\n                                    <div className=\"input-group mb-3\">\n                                        <select id=\"token\" className=\"round-left btn-primary dropdown-toggle form-control\" type=\"button\" data-toggle=\"dropdown\"  onChange={async () => {\n                                            await this.common.getTokenBalance();\n                                        }}></select>\n                                        <input type=\"number\" id=\"amount\" className=\"round-right btn-primary form-control\" placeholder=\"Enter amount\" />\n                                    </div>\n                                    <div>\n                                        <button type=\"button\" id=\"button\" className=\"round btn btn-primary w-100\" onClick={this.btnUnwrap_Clicked}>Unwrap!</button>\n                                    </div>\n                                </div>\n                                <MessagePanelComponent />\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport $ from 'jquery';\nimport EventEmitter from 'events';\n\nimport { CancellationToken } from '../js/cancellationToken';\nimport { Config as config } from '../js/config'\nimport { Energizer } from '../js/energizer';\nimport { enable, disable } from '../js/ui';\nimport { WalletProvider as wallet } from '../js/walletProvider'\n\nimport { MessagePanel as msg, MessagePanelComponent } from '../components/MessagePanel'\n\nexport default class Energize extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.recoveredTeleport = null;\n        this.cancellationToken = new CancellationToken();\n    }\n\n    async validateUiState() {\n        enable(\"#form\");\n        disable(\"#button\");\n        msg.clear();\n\n        if (this.recoveredTeleport) {\n            if (wallet.chainId === this.recoveredTeleport.destination.chainId) {\n                msg.showOk(\"Teleport found\");\n                disable(\"#selectors\");\n                enable(\"#button\");\n            }\n            else {\n                if (wallet.isMetamask)\n                    msg.showWarn(`Switch MetaMask to the ${this.recoveredTeleport.destination.network} network to energize`);\n                else if (wallet.isWalletConnect) {\n                    msg.showWarn(`Sending request to change to the ${this.recoveredTeleport.destination.network} network to energize`);\n                    wallet.switchNetwork(this.recoveredTeleport.destination.chainId);\n                }\n            }\n        }\n        else {\n            var tx = $(\"#hash\").val();\n\n            if (!tx)\n                return;\n\n            if (tx.length < 66) {\n                msg.showError(\"Invalid transaction hash\");\n                return;\n            }\n\n            this.recoveredTeleport = await this.recoverTeleport(tx);\n            console.log(this.recoveredTeleport);\n\n            if (!this.recoveredTeleport) {\n                msg.showError(\"Teleport not found\");\n                return;\n            }\n\n            msg.showOk(\"Teleport found\");\n            disable(\"#selectors\");\n            enable(\"#button\");\n\n            if (wallet.isMetamask)\n                msg.showWarn(`Switch MetaMask to the ${this.recoveredTeleport.destination.network} network to energize`);\n            else if (wallet.isWalletConnect) {\n                msg.showWarn(`Sending request to change to the ${this.recoveredTeleport.destination.network} network to energize`);\n                wallet.switchNetwork(this.recoveredTeleport.destination.chainId);\n            }\n        }\n    }\n\n    async recoverTeleport(txHash) {\n        console.log(\"Attempting recovery:\", txHash);\n        var receipt = await wallet.web3.eth.getTransactionReceipt(txHash);\n\n        if (!receipt) {\n            console.log(\"Receipt not found\");\n            return;\n        }\n\n        var blockNumber = receipt.blockNumber;\n        var transactionData;\n        var source;\n        var destination;\n        var destinationToken;\n\n        $.each(receipt.logs, async function () {\n            if (this.topics[0] === config.app.withdrawEventHash) {\n                transactionData = this.data.slice(130, 354);\n\n                var sourceNetId = parseInt(transactionData.slice(64, 72), 16);\n                var destNetId = parseInt(transactionData.slice(80, 88), 16);\n                var destTokenId = parseInt(transactionData.slice(88, 96), 16);\n\n                $.each(config.network, function () {\n                    if (this.id === sourceNetId)\n                        source = this;\n\n                    if (this.id === destNetId) {\n                        destination = this;\n                        if (destTokenId === 0)\n                            destinationToken = this.fmtaToken\n                        else {\n                            $.each(this.tokens, function () {\n                                if (this.id === destTokenId)\n                                    destinationToken = this;\n                            });\n                        }\n                    }\n                });\n\n                return false;\n            }\n        });\n\n        if (!source || !destination || !transactionData || transactionData.length === 0 || !destinationToken)\n            return;\n\n        transactionData = \"0x\" + transactionData;\n\n        return {\n            txHash,\n            blockNumber,\n            transactionData,\n            source,\n            destination,\n            destinationToken\n        };\n    }\n\n    componentDidMount() {\n        msg.clear();\n\n        if (!wallet.hasListener('energize')) {\n            var em = new EventEmitter();\n\n            em.on('connect', async () => {\n                await this.validateUiState();\n            });\n\n            em.on('disconnect', () => {\n                disable(\"#form\");\n                msg.clear();\n                this.cancellationToken.cancel();\n            });\n\n            em.on('accountsChanged', async (accounts) => {\n                if (accounts === null || accounts.length === 0) {\n                    disable(\"#form\");\n                    return;\n                }\n\n                await this.validateUiState();\n            });\n\n            em.on('chainChanged', async () => {\n                await this.validateUiState();\n            });\n\n            wallet.addListener('energize', em);\n        }\n\n        if (wallet.isConnected())\n            enable(\"#form\");\n        else\n            disable(\"#form\");\n\n        $(\"#hash\").on('change', async () => {\n            await this.validateUiState();\n        });\n\n        $(\"#button\").on('click', async () => {\n            msg.clear();\n            disable(\"#form\");\n            msg.showWarn(\"Requesting signature...\");\n\n            console.log(\"Transaction Data:\", this.recoveredTeleport.transactionData);\n\n            try {\n                var signature = await wallet.web3.eth.personal.sign(this.recoveredTeleport.transactionData, wallet.web3.eth.defaultAccount);\n                this.recoveredTeleport.signature = signature;\n            }\n            catch\n            {\n                msg.clear();\n                enable(\"#form\");\n                msg.showError(\"Transaction signing failed\");\n                return;\n            }\n\n            this.cancellationToken = new CancellationToken();\n            var energizer = new Energizer(this.recoveredTeleport, this.cancellationToken);\n            energizer.on('error', (code, error) => {\n                if (code !== 100) {\n                    msg.clear();\n                    enable(\"#form\");\n                }\n\n                msg.showError(`Error ${code}: ${error}`);\n            });\n\n            energizer.on('ok', async (serverSignatures) => {\n                msg.clear();\n                console.log(energizer.teleport);\n                msg.showWarn(\"Energize confirmed. Processing transaction...\");\n                try {\n                    var destBridgeContract = new wallet.web3.eth.Contract(config.app.bridgeAbi, energizer.teleport.destinationToken.bridgeAddress);\n                    var tx = await destBridgeContract.methods.deposit(energizer.teleport.signature, serverSignatures, energizer.teleport.transactionData).send({ from: wallet.web3.eth.defaultAccount });\n                    console.log(\"Transaction:\", tx);\n                    enable(\"#form\");\n                    msg.clear();\n                    msg.showOk(\"Energize Success!\");\n                }\n                catch\n                {\n                    msg.clear();\n                    msg.showError(\"Transaction failed!\");\n                    enable(\"#form\");\n                    return;\n                }\n            });\n\n            msg.showWarn(\"Verifying teleport...\");\n\n            await energizer.start();\n        });\n    }\n\n    componentWillUnmount() {\n        wallet.removeListener('energize');\n        this.cancellationToken.cancel();\n    }\n\n    render() {\n        return (\n            <div className=\"ps-3 pe-3\">\n                <div className=\"page-flex-container d-flex flex-row justify-content-center align-items-center\">\n                    <div className=\"page-content\">\n                        <form autoComplete=\"off\" className=\"card border border-primary shadow\">\n                            <div className=\"card-header\">Energize</div>\n                            <div className=\"card-body\">\n                                <div id=\"form\">\n                                    <div id=\"selectors\">\n                                        <div className=\"mb-3\">\n                                            <input id=\"hash\" className=\"round btn-primary form-control input\" placeholder=\"Enter TX hash\" />\n                                        </div>\n                                    </div>\n                                    <div>\n                                        <button type=\"button\" id=\"button\" className=\"btn btn-primary round w-100\">Energize!</button>\n                                    </div>\n                                </div>\n                                <MessagePanelComponent />\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Navigation } from './components/Navigation';\n\nimport { Config as config } from './js/config'\nimport { WalletProvider as wallet } from './js/walletProvider'\n\nimport Home from './pages/Home'\nimport Staking from './pages/Staking'\nimport Mining from './pages/Mining'\nimport Teleport from './pages/Teleport'\nimport Wrap from './pages/Wrap'\nimport Unwrap from './pages/Unwrap'\nimport Energize from './pages/Energize'\n\nimport './App.css';\nimport './themes/lux.bootstrap.css';\nimport './themes/lux.bootstrap.overrides.css';\n\nclass App extends React.Component {\n\n    async componentDidMount() {\n        await config.fetchNetworkConfig();\n        console.log(\"App loaded\");\n        var provider = localStorage.getItem('provider');\n\n        if (provider === 'walletConnect')\n            await wallet.walletConnect();\n        else if (provider === 'metamask')\n        {\n            if (wallet.isMetamaskAvailable())\n                await wallet.metamask();\n            else\n                localStorage.setItem('provider', 'none');\n        }\n        else\n            console.log('No existing wallet provider');\n\n        await Navigation.toggleNetworkWarning();\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n                <Navigation />\n                <Switch>\n                    <Route exact path=\"/\" component={Home} />\n                    <Route path=\"/staking\" component={Staking} />\n                    <Route path=\"/mining\" component={Mining} />\n                    <Route path=\"/teleport\" component={Teleport} />\n                    <Route path=\"/wrap\" component={Wrap} />\n                    <Route path=\"/unwrap\" component={Unwrap} />\n                    <Route path=\"/energize\" component={Energize} />\n                </Switch>\n            </div>\n        )\n    }\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n        <Router>\n            <App />\n        </Router>,\n    document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}